---
title: 特別講義DS Ch2 データサイエンスを始めよう
description: 資料
tags:
    - datascience
    - statistics
    - python
featured: true
date: 2024-03-29
tableOfContents: true
previousChapter: slds1.html
nextChapter: slds3.html
---


# データサイエンスを始めよう 研究計画の建て方

この講義ではデータサイエンスの一通りの過程を実際に自分で実施することを目指します.
まずは,データサイエンスとはどのようなものなのか,一連の流れを確認してみましょう.
データサイエンスを実施する場合の一般的な作業は以下のような順序で行われます.

![データ分析の流れ](/images/data-science-flow.png)

これらのうち,考察までの部分は基本的にプログラムによって実行され,それぞれ基本的にその作業に適した**ライブラリ**を利用します.

どのような**ライブラリ**を利用するのかに関しては,図の下側に記載されていますが,その詳細に関しては後の章で扱います.

::: note
いずれによせ皆さんは,ここに記載された一連の流れを実施するために,まずは

1. プログラミングの基礎
2. 各ライブラリの利用方法
3. 前処理,可視化,数値化などの基本的な知識
4. 分析手法とその解釈の仕方

を学習する必要があります.

それと並行して,この一連の流れで具体的に何を研究するのかという**研究計画**を立てる必要があります.
この講義では,基本的な学習と研究計画の立案を並行して行い,研究の進展に沿って必要となる技能を身に着けていきます.
:::

そのために,まずは研究計画の立て方について学習してみましょう.

# モデルとデータ

統計学やデータサイエンスはいずれもデータを利用しますが,データを利用して得たいものは何でしょうか. 統計学や,データサイエンスは,世界に何かしらの**構造(モデル)**が存在するという**仮定**をおいて,情報を利用してその構造を明らかにすることを目的としています.

- 星の動きは特定のルールに従っている

- コインを投げて表が出るか,裏が出るかは,コインの構造や投げ方で決まる

社会科学では,そのような構造がない,あるいは変化する,作るなどの立場もありますが,ここでは深くは扱いません.

しかし, 世の中の何かしらの対象の動きや現象を決める構造はどのようにすれば明らかになるのでしょうか. 私達は,情報を解釈することでお野中の何かしらの現象の背景にモデルを見出します. 単純な法則であれば,目で見て,耳で聞いて,触ってという五感によってモデルを発見しますが, そのようなものも,視覚,聴覚,触覚などの情報といえます. 自然の情報は複雑すぎるためにそのような情報全ては利用できません, 私達は**データ**と言う形で情報を抽出し,利用可能な形態にまとめます. 情報をそのまま眺めていても,まだ人間には複雑過ぎます,そこで,統計やデータサイエンスの技法を用いてそれらの情報を何らかの基準でまとめて,理解可能な形,すなわち**モデル**に変形します.

![情報の抽出](/images/info-to-model.png)

::: warn

統計におけるモデルの話(あとで載せる予定)

:::

この講義はデータサイエンスを扱うので, **データからデータを生み出した世界の背景にある構造を明らかにする**ことを目指します. なので, これから皆さんに立ててもらう研究テーマを決めるには,**自分が明らかにしたい構造**を決めて貰う必要があります.

参考にするために,この講義で扱った過去の研究事例を確認してみましょう.

過去の研究事例はこちらから閲覧できます.


::: note

過去のこの講義における研究テーマでは,

- **大学の学生の成績が決定する構造とは?**
---
    大学の学習データを用いたカテゴリーデータ解析によって, 授業形態別に良い成績を取る学生とそうでない学生の特徴を明らかにしました.

- **ヒット曲を生み出す構造は?**
---
    過去のヒット曲データや歌詞を利用したクラスタリングによって, 時代ごとのヒット曲の変遷と,ヒット曲になりやすい曲の特徴を明らかにしました.

- **大学の電力消費を決めている構造は?**
---
    大学の棟別の電力データを利用した時系列解析によって,大学の電力消費に影響の大きい要素を明らかにしました.

- **国ごとのLGBTQに関する言説を決める要因は?**
---
    言語毎のLGBTQに関するWikipediaの記事の自然言語解析結果と,世界LGBTQ需要度ランキングの関係性を明らかにしました.

- **大学生のメンタルヘルスを決める構造は?**
---
    アンケート調査を利用した共分散構造分析によって,大学生の大学生活の様子とメンタルヘルスの関係を明らかにしました.

などなど,それぞれが知りたい,何かの現象を生み出す構造を明らかにする研究を実施しました.

皆さんが研究テーマを決めるにあたって,必要となる第一歩は,**何の**,**何を決める**構造が知りたいのかを決めることです.
:::

ところで,**構造を明らかにする**と言ってもどのようにするのでしょうか.

これから学ぶ様々な統計,データサイエンスの手法によって,明らかにすることができる構造は異なります.


::: note

例えば,

- **関係がある → 相関**
---
    SDGsに取り組む企業は, 生産性が高い傾向がある
    成績が良い学生は, 勉強時間が長い傾向がある
    ただし, 傾向があるだけで, 勉強を沢山すれば,成績が伸びるという説明(因果関係)はできない

- **違いがある → 検定**
---
    オンデマンド授業の方が, 対面授業よりも学生の成績が高い

- **モデルで説明できる(予測できる) → 多変量解析, 統計モデリング(回帰など)**
---
    生産性がX高まると,SDGsへの取り組みの量がY増える

- **区別/要約できる → クラスタリング,次元削減**
---
    流行りの音楽は,5つのグループに区別できる
    流行りの音楽の特徴をまとめると,XやYである.

といった手法があります. 自分が,対象の何を知りたいのかを明らかにすることで,使用する手法は異なります.

:::

この講義では, 分析手法を扱う章でこれらの手法を扱います. 時間の都合上すべてを詳細に扱うことはできません.
したがって皆さんの学習における目標は講義を通して,数ある手法の中から**自分の知りたい対象に使える手法1つか2つだけ選択し,それだけを利用できるようにすること**となります.

::: warn
選んだテーマによっては既存の手法が適用できない場合もあります.

その場合には,教員が資料を新たに作成します.
(今までは年1,2個程度増えています.)

- 今後の追加候補

    - 一般化線形モデル(ベイズ統計モデル)

    - 傾向スコア解析

    - エージェント・ベース・モデリング

:::

## 手法の決め方

統計やデータサイエンスは非常に広い学問なので,その学習では様々な手法を断片的に学習し, その後必要となる特定の手法を深く学ぶというのが一般的です. では,必要となる手法はどのように決めるのでしょうか.


手法は,目的とデータによって決まります. まず,目的(何が知りたいか)が決まり,利用できるデータが決まったあとに,使える手法(何が言えるか)が決まります. これは目的が先にあるパターンですが,データが先,使いたい手法が先などで研究計画が決まる場合もあります.

![目的,手法,データ](/images/purpose_method_data.png)

::: warn

- **HARKing**について
---

この講義はあくまで,研究を通じてデータサイエンスの手法を学習することを目指しているため, 以下の様に,手法やデータ優先で研究計画を立てることも認めていますが,研究の世界では, データが有り,何かしらの手法で分析した後に,その結果を元々知りたかったかのように報告することは[**HARKing**](http://journals.sagepub.com/doi/10.1207/s15327957pspr0203_4)と呼ばれる研究不正の一種とみなされる場合があります.

データ優位の分析は,データサイエンス分野や,観察研究と呼ばれる分野でしばしば行われていますし,特定の手法が利用可能な分野やデータを選択することは特定の手法の学習のためには有用です.

しかし,**統計的仮説検定**などの統計的な仮説を前提とする分野では,望ましい態度ではないとされています.

卒業研究などで,研究をする場合には,指導教官の指導方針に従って,研究計画を立てるようにしましょう.

:::

::: note

- **目的から**
---
    - この構造を明らかにしたい.

    - → この構造から生じたデータを集める → このデータを使って構造を表す手法を選ぶ

    - → この手法で明らかになる →この手法が使えるデータを集める

- **データから**
---
    - このデータを分析したい

    - → このデータを分析できる手法を選ぶ → この手法とデータから明らかになることを考える

    - → このデータから明らかにしたい構造を考える → データから構造を明らかにする手法を考える

- **手法から**
---
    - この手法を使いたい,作りたい

    - → この手法で何が明らかになるのかを決める → この手法が使えるデータを集める

    - →この手法が使えるデータを集める → この手法とデータから明らかになることを考える

:::

## 研究計画を建てよう

**目的,データ,手法**いずれかを決めましょう.

::: note

- **目的の決め方**
---

    - 自分の知りたい構造を沢山挙げる

    - その構造の仮説を立てる

        例: Twitterでバズる方法には規則があるかもしれない?, 少子高齢化には背景に構造があるかもしれない?

    - → すでに明らかになっていないか,本,論文を探す(先行研究).

        何が分かっていて何が分かっていないのか?

    - 大変なところ: アイデア勝負(創造性), 先行研究を調べるのが大変

- **手法の決め方**
---

    - 沢山の手法の原理/使い方を学ぶ

    - 興味のある,自分で使えるようになりたい手法を選ぶ

        例:兎に角テキスト解析してみたいぜ!,  取り敢えず統計モデルっていうものを作ってみたいぜ!

    - → その手法について学習して, 使えるようにする.

        どんな原理で,何が明らかになるもので,どのように使うのか?

    - 大変なところ: 手法は難しい,沢山ありすぎる,数学とかプログラミングが必要

- **データの決め方**
---

    - 様々なデータを探す/自分でデータを作ってみる(実験,調査)

    - → データの特徴を分析(記述統計学),設計する(実験計画)

         例: 取り敢えずYoutubeの視聴データが面白そう!, 大学の教育のデータから何が言えるかな?, アンケート調査とかしてみたい!

    - 大変なところ: 実験や調査は手間がかかる. データの特徴を調べないといけない.

この3つをそれぞれ,自分の興味のあるものを考えて見よう.
最低3アイデアを考えてみましょう.(目的1つで3つでも, それぞれ1つずつでもOK)

:::

どれか1つ(目的/手法/データ)が決まったら,残り2つを順番に探してみましょう.
しかし, 実際に行ってみると,途中でうまくいかないことが大半です.

::: note

- **目的も手法も決まったけどデータがない!**
---
    - 千葉商科大学生の親の所得と成績について,回帰分析したい!

    → けどそんなデータはない

    → アンケート調査する?/変更する

- **データも手法も決まったけど,出てくる構造がすでに知られている/つまらない**
---
    天気と気温のデータがあるので検定をすれば,晴れの日は雨の日より気温が高いことが分かる

    → そんな当たり前のことが分かっても…..

- **目的もデータもあるけど,手法が難しすぎる/存在しない**
---
    企業の会計データと取引経路のデータがあるので,これで経済構造を明らかにできる!

    → エージェントベースモデリングをやるには,数百万円の計算機と,数万行のコードを書く必要があるし,モデル作成も複雑すぎる….

ので行ったり来たりするのが通常です.

:::

卒業研究などではこの過程に,1年以上かけますが,この講義では数ヶ月しか時間がとれません. そこで,**少し妥協する必要があります**.

本当に知りたいこと,本当にやりたいこと,本当に分析したいデータなどが,上手く使えればそれに越したことはありませんが,なかなか上手くは行きません.
一生物の仕事になる場合もあります(その場合は是非,大学院に進んで研究者になりましょう.)

この講義では,1年で0から行うので,

::: note

- **すぐに結果が出そうな目的**
---
    - おおよそ明らかになっていることを少し変える

    - 既に知られていることでも取り敢えずやってみる

    - 本当に知りたいことのほんの一部だけに限定する

- **手頃なデータ**
---
    - 昨年の講義で利用されているデータ

    - 簡単に手に入るデータ

- **簡単な手法**
---
    - 授業で扱っている基礎的な手法に限定する

    - やりたいことの簡単なバージョンを利用する

:::

くらいに,妥協する必要があります(それでも半年で行うのはかなり大変です.)

これから,具体的な統計やデータサイエンスの手法を学習するので, 並行してできるだけ早くに,自分がこの講義で何をやるのかを決めていきましょう.

::: note

- **演習**

- 目的,手法,データ,どれでも良いので,3つ思いついたものをスライドにまとめてください.

    - デザインを入れるなど,きれいにまとめる必要はありません.議論のためのメモ帳として作成してください.

    - あとで補足,追加できるように1つのテーマにつき,1ページ使用してください.

    - 何かを調べた,読んだ,参考にした場合はその出典を書いておいてください.

        URL直張りでも構わないので,必ずあとで参照できる形でメモを残しておいてください.

    - 途中経過で構わないのでグループウェアの自分のチャネルにアップロードしてください.

    現時点では,実現が困難なものでも,不可能なものでも,つまらないものでも構いません,取り敢えず沢山やってみたいこと,興味のあることをまとめましょう.後ほど,その資料を元に,説明してもらい,ディスカッションします.

:::

