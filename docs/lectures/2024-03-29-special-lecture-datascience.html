<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width">

        <title>yakagika - 特別講義(データサイエンス)</title>

        <!-- Stylesheets. -->
        <link rel="stylesheet" type="text/css" href="../style.css?v=0">

        <!-- RSS. -->
        <link rel="alternate" type="application/rss+xml" title="yakagika" href="https://yakagika.github.io/rss.xml">

        <!-- Metadata. -->
        <meta name="keywords" content="yakagika Haskell ExchangeAlgebra">
        <meta name="description" content="Personal home page and blog of yakagika.">
        
        <!-- KaTeXのスタイルシートとJavaScriptのリンクを動的に挿入 -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
        
        <meta property="og:description" content="資料" />
    </head>
    <body>
        <div id="navigation">
            <h1>Contents</h1>
            <a href="../">Home</a>
            <a href="../posts.html">Blog</a>
            <a href="../lectures.html">Lecture</a>
            <a href="../research.html">Research</a>
            <a href="../contact.html">Contact</a>
            <!-- <a href="/cv.html">CV</a> -->
            <h1>Links</h1>
            <a href="http://github.com/yakagika">GitHub</a>
        </div>
        <div id="content">
    <h1>特別講義(データサイエンス)</h1>
<div class="soft">
    資料<br />
    Published on March 29, 2024 under the tag 
</div>

<div class="toc"><div class="header">Table of Contents</div>
<ul>
<li><a href="#イントロダクション" id="toc-イントロダクション"><span class="toc-section-number">1</span> イントロダクション</a>
<ul>
<li><a href="#プログラミング言語の種類" id="toc-プログラミング言語の種類"><span class="toc-section-number">1.1</span> プログラミング言語の種類</a></li>
<li><a href="#授業準備" id="toc-授業準備"><span class="toc-section-number">1.2</span> 授業準備</a>
<ul>
<li><a href="#テキストエディタ" id="toc-テキストエディタ"><span class="toc-section-number">1.2.1</span> テキストエディタ</a></li>
</ul></li>
<li><a href="#imeの設定" id="toc-imeの設定"><span class="toc-section-number">1.3</span> IMEの設定</a></li>
<li><a href="#cliの基本操作" id="toc-cliの基本操作"><span class="toc-section-number">1.4</span> CLIの基本操作</a>
<ul>
<li><a href="#エンコーディング" id="toc-エンコーディング"><span class="toc-section-number">1.4.1</span> エンコーディング</a></li>
<li><a href="#日本語表示" id="toc-日本語表示"><span class="toc-section-number">1.4.2</span> 日本語表示</a></li>
<li><a href="#ディレクトリ" id="toc-ディレクトリ"><span class="toc-section-number">1.4.3</span> ディレクトリ</a></li>
</ul></li>
<li><a href="#基礎的なコマンド" id="toc-基礎的なコマンド"><span class="toc-section-number">1.5</span> 基礎的なコマンド</a></li>
<li><a href="#環境構築" id="toc-環境構築"><span class="toc-section-number">1.6</span> 環境構築</a></li>
<li><a href="#hello-world" id="toc-hello-world"><span class="toc-section-number">1.7</span> Hello World</a></li>
<li><a href="#プログラミングの勉強の仕方" id="toc-プログラミングの勉強の仕方"><span class="toc-section-number">1.8</span> プログラミングの勉強の仕方</a></li>
</ul></li>
<li><a href="#pythonことはじめ" id="toc-pythonことはじめ"><span class="toc-section-number">2</span> Pythonことはじめ</a>
<ul>
<li><a href="#replを使ってみよう" id="toc-replを使ってみよう"><span class="toc-section-number">2.1</span> REPLを使ってみよう</a></li>
<li><a href="#コメントアウト" id="toc-コメントアウト"><span class="toc-section-number">2.2</span> コメントアウト</a></li>
<li><a href="#データ型" id="toc-データ型"><span class="toc-section-number">2.3</span> データ型</a>
<ul>
<li><a href="#数値型pythonを電卓として使う" id="toc-数値型pythonを電卓として使う"><span class="toc-section-number">2.3.1</span> 数値型(Pythonを電卓として使う)</a></li>
</ul></li>
<li><a href="#変数と代入" id="toc-変数と代入"><span class="toc-section-number">2.4</span> 変数と代入</a>
<ul>
<li><a href="#代入演算子" id="toc-代入演算子"><span class="toc-section-number">2.4.1</span> 代入演算子</a></li>
</ul></li>
<li><a href="#文字列型" id="toc-文字列型"><span class="toc-section-number">2.5</span> 文字列型</a>
<ul>
<li><a href="#文字列の演算" id="toc-文字列の演算"><span class="toc-section-number">2.5.1</span> 文字列の演算</a></li>
</ul></li>
<li><a href="#リスト" id="toc-リスト"><span class="toc-section-number">2.6</span> リスト</a>
<ul>
<li><a href="#リストの演算" id="toc-リストの演算"><span class="toc-section-number">2.6.1</span> リストの演算</a></li>
</ul></li>
<li><a href="#タプル" id="toc-タプル"><span class="toc-section-number">2.7</span> タプル</a></li>
<li><a href="#辞書型" id="toc-辞書型"><span class="toc-section-number">2.8</span> 辞書型</a></li>
<li><a href="#論理演算" id="toc-論理演算"><span class="toc-section-number">2.9</span> 論理演算</a></li>
</ul></li>
<li><a href="#ライブラリの利用" id="toc-ライブラリの利用"><span class="toc-section-number">3</span> ライブラリの利用</a>
<ul>
<li><a href="#復習スクリプトの実行" id="toc-復習スクリプトの実行"><span class="toc-section-number">3.1</span> (復習)スクリプトの実行</a></li>
<li><a href="#ライブラリとは" id="toc-ライブラリとは"><span class="toc-section-number">3.2</span> ライブラリとは</a></li>
<li><a href="#ライブラリを使ってみよう" id="toc-ライブラリを使ってみよう"><span class="toc-section-number">3.3</span> ライブラリを使ってみよう</a></li>
<li><a href="#なぜexcelではだめなのか" id="toc-なぜexcelではだめなのか"><span class="toc-section-number">3.4</span> なぜExcelではだめなのか</a></li>
</ul></li>
<li><a href="#データの取得と編集-執筆中" id="toc-データの取得と編集-執筆中"><span class="toc-section-number">4</span> データの取得と編集 (執筆中)</a>
<ul>
<li><a href="#データの尺度" id="toc-データの尺度"><span class="toc-section-number">4.1</span> データの尺度</a></li>
<li><a href="#データの種類" id="toc-データの種類"><span class="toc-section-number">4.2</span> データの種類</a></li>
<li><a href="#データの取得と編集" id="toc-データの取得と編集"><span class="toc-section-number">4.3</span> データの取得と編集</a></li>
<li><a href="#e-statを使ってみよう" id="toc-e-statを使ってみよう"><span class="toc-section-number">4.4</span> e-statを使ってみよう</a></li>
</ul></li>
<li><a href="#pythonの基本構文執筆中" id="toc-pythonの基本構文執筆中"><span class="toc-section-number">5</span> Pythonの基本構文(執筆中)</a></li>
<li><a href="#処理とアルゴリズム執筆中" id="toc-処理とアルゴリズム執筆中"><span class="toc-section-number">6</span> 処理とアルゴリズム(執筆中)</a>
<ul>
<li><a href="#関数-執筆中" id="toc-関数-執筆中"><span class="toc-section-number">6.1</span> 関数 (執筆中)</a></li>
</ul></li>
<li><a href="#データの可視化" id="toc-データの可視化"><span class="toc-section-number">7</span> データの可視化</a></li>
<li><a href="#一般化線形モデル執筆中" id="toc-一般化線形モデル執筆中"><span class="toc-section-number">8</span> 一般化線形モデル(執筆中)</a></li>
</ul>
</div>
<p>特別講義(データサイエンス)の授業資料などを書いてく予定です.
(執筆準備中)</p>
<p>本資料は,文系学部生向けにデータサイエンスすることを目的にしたものです.
これまでにプログラミングや理数系科目を学習していないことを前提にしているので,
初歩の初歩から一つずつ扱う科目です.</p>
<p>こちらの資料では,授業に必要な技術的な内容に限定して掲載します.
授業概要,授業の注意点,成績等については講義中に別資料で説明します.</p>
<h2 data-number="1" id="イントロダクション"><span class="header-section-number">1</span> イントロダクション</h2>
<details>
<summary>
開く
</summary>
<p>データサイエンスは,データを利用して現象を発見したり,予測をする科学の総称です. データの作成やデータを分析する前の処理,利用するコンピュータ関連の技術なども対象となります.</p>
<p>データサイエンスと関連の深い分野/用語として統計や機械学習,AIがありますが,それらもデータサイエンスの一部とみなすことができます.</p>
<p>統計は,データ自体の取得・作成・集計から,データの構造を分かりやすく分析・可視化する学問です.機械学習は,データから予測モデルを作り,意思決定などに応用する学問です. 統計や機械学習・AIは明確に分割することができるものではなく,かなりの部分が共通しています. 特に皆さんがこの講義の先修科目である統計学入門で学んだ,初歩的な統計は,機械学習やAI,データサイエンス全般を学ぶ上で,前提知識となります.この他,どちらかに分類できるわけではない,モデリング,AI,シミュレーション,最適化,次元削減,など様々なトピックが含まれています.</p>
<figure>
<img src="../images/data-science-and-components.png" alt="データサイエンス" />
<figcaption aria-hidden="true">データサイエンス</figcaption>
</figure>
<p>この講義では,統計学入門で学んだ,可視化,数値化,検定,回帰などの統計学の手法をPCを使って行う他,統計学入門の範囲を超えたより発展的な手法に関しても学習します.</p>
<p>しかし,このようにデータサイエンスは非常に広範な学問なので,統計学入門のように個別の手法に関して,細かく理解することはせず,それぞれの概要と利用方に関してのみを扱います.</p>
<h3 data-number="1.1" id="プログラミング言語の種類"><span class="header-section-number">1.1</span> プログラミング言語の種類</h3>
<p>データサイエンスは言葉の通り,データを扱います. 現在ではデータは基本的に,電子データとして収集,処理されるため,それらの編集,処理にはコンピュータを利用し,操作は基本的にはプログラムによってなされます. したがってプログラミングは,データサイエンスのための前提知識となります.</p>
<p>この講義では最終的には,学生それぞれに研究のためのプログラムを組んでもらいます.
データサイエンスや統計でよく使われる言語は, Python, Julia, R, SPSS, matlab などいくつかありますが, この授業では, 現在世界的に広く使われており,習得も容易なPythonを利用します.</p>
<p>プログラミング言語には沢山の種類がありますが,言語によって機能や得意なことが異なります.</p>
<figure>
<img src="../images/2024-04-08-lecture-DS-languages.png" alt="Langage icons" />
<figcaption aria-hidden="true">Langage icons</figcaption>
</figure>
<p>プログラミング言語は <strong>実行方式</strong>, <strong>書き方</strong>,<strong>検査の仕方</strong>などの特徴がそれぞれ異なり,大まかにはそれぞれ以下のような意味になります.</p>
<hr />
<p><strong>実行方式</strong></p>
<p>プログラミング言語は,人間にとって理解しやすくデータ構造やアルゴリズムを記述するための手段です.しかし,コンピュータはプログラミング言語を直接理解することはできません.そのため,書かれたプログラムはコンピュータが解釈できる形式,すなわち0と1のビット列である機械語に翻訳される必要があります.この翻訳プロセスは,プログラムの実行方式を以下の二つに分ける要因となります.</p>
<div class="note">
<ul>
<li>インタプリタ方式</li>
</ul>
<p>インタプリタ方式では,プログラムは逐次的に機械語に翻訳されながら実行されます.この方式の特徴は,コンパイルする必要がないため,翻訳と実行が同時に行われる点です.これにより,プログラムの変更がすぐに反映されるため,開発中のテストやデバッグが容易になります.しかし,実行のたびに翻訳を行う必要があるため,実行速度が遅くなることが欠点です.</p>
</div>
<div class="note">
<ul>
<li>コンパイラ方式</li>
</ul>
<p>コンパイラ方式では,プログラム全体が事前に機械語に翻訳され,その結果として得られる実行可能なプログラムが生成されます.コンパイラ方式の利点は,一度コンパイルされたプログラムは,何度も実行される際に追加の翻訳が不要であるため,実行速度が速いことです.また,コンパイル時にプログラム全体を分析できるため,エラーやバグの発見が早期に行え,より安全性が高まるという利点があります.</p>
</div>
<p>この二つの実行方式は,プログラムの性質や用途に応じて選択されます.インタプリタ方式は開発の柔軟性が求められる場合に適しており,コンパイラ方式は性能が重視される場合に好まれます.プログラマはこれらの特性を理解し,それぞれの場面で最適な選択をすることが求められます.</p>
<hr />
<p><strong>書き方</strong></p>
<p>プログラミングとは,基本的にコンピュータに対して実行してほしい命令を記述する作業です.現在主流のプログラミング言語には,大まかに<strong>手続き型言語</strong>と<strong>関数型言語</strong>の二つの記述方法が存在します.</p>
<div class="note">
<ul>
<li>手続き型言語</li>
</ul>
<p>この言語タイプでは,プログラムが｢何を,どうするか｣を順番に記述していきます. Python,Java,VBAなど多くの広く使われている言語がこの方法を採用しています. これにより,処理の流れが直観的に理解しやすくなります.</p>
</div>
<div class="note">
<ul>
<li>関数型言語</li>
</ul>
<p>関数型言語では,プログラムを実行によってユーザーが得たい結果を抽象化し,関数の組み合わせで記述します.このアプローチは,安全性の向上やデバッグのしやすさといったメリットを提供しますが. 概念の抽象化により理解が難しくなることがあります.</p>
</div>
<p>近年では,手続き型言語にも関数型の構文が取り入れられるようになり,手続き型言語内で関数型風に記述することや,その逆も可能になっています.</p>
<p>これらの違いについて更に詳しく知りたい方は,別の<a href="../lectures/2024-03-29-introduction-to-algebraic-programing.html">講義資料</a>で更に詳しく説明しています.</p>
<hr />
<p><strong>検査の仕方</strong></p>
<p>プログラミングは,データ構造とアルゴリズムを使用して命令を記述する作業です.ここではデータ型の詳細に深くは触れませんが,あらゆるプログラミング言語において,データはコンピュータのメモリ上に数値の羅列として存在します.それらの数値に意味を与えることでデータ型が形成されます.</p>
<p>プログラムは実行時に,これらのデータ型が適切に使用されているかを検査します.主な検査方法には<strong>動的型付け</strong>と<strong>静的型付け</strong>があります.動的型付けでは,プログラムの実行時にデータ型が決定され,静的型付けではコンパイル時にデータ型が固定されます.さらに,型付けには「弱い型付け」と「強い型付け」という区別も存在しますが,この講義ではその詳細には触れません.興味のある方は,このトピックについてさらに調査してみてください.</p>
<div class="note">
<ul>
<li>動的型付け
動的型付けのシステムでは,プログラマが変数の型を明示的に宣言する必要がありません.代わりに,コンピュータはプログラムの実行時に型を推論し,適切な型を自動で割り当てます.この柔軟性により,プログラマはより迅速に開発を進めることが可能になります.一方で,このシステムではコンパイル時の型チェックが行われないため,実行時に型関連のエラーが発生するリスクが高まります.そのため,安全性を確保するためには,プログラマ自身が型の整合性に注意を払い,エラー処理やテストにより問題を検出する必要があります.</li>
</ul>
</div>
<div class="note">
<ul>
<li>静的型付け</li>
</ul>
<p>静的型付けでは,プログラマが変数や関数の型をコード内で明示的に宣言し,これらはコンパイル時にチェックされます.この事前の型チェックにより,プログラムの安全性が向上し,実行時のエラーが減少します.また,コンパイラが型情報を利用して効率的なコード生成を行い,パフォーマンスが向上することがあります.静的型付けは特に,大規模プロジェクトや高い信頼性が求められる場合に適しています.</p>
</div>
<hr />
<p>プログラミング言語は,このような区分や,それ以外の様々な機能によって,用途の向き不向きが決まります(大雑把な目安です).</p>
<figure>
<img src="../images/2024-04-08-language-and-purpose.png" alt="Languages and usages" />
<figcaption aria-hidden="true">Languages and usages</figcaption>
</figure>
<p>ではこれらの特徴を踏まえて,Pythonとはどのような言語なのかを見てみましょう.</p>
<div class="note">
<p>Pythonは</p>
<pre><code>- インタプリタ型言語で
    - 機械語に翻訳しながら動く
    - 手軽に書けて手軽に試せる
    - でも少し安全性が低く,遅い

- 手続き型言語で
    - 次に何をするかを順番に書く
    - (ただし関数型っぽい書き方もできる)

- 動的型付け言語で
    - 型検査を動かしながら実施
    - 動かしてから型が違うと失敗する</code></pre>
</div>
<p>これらは,プログラミング言語の大きな分類からみたPythonですが, Python固有の特徴として以下のようなものがあります.</p>
<div class="note">
<pre><code>- とにかく読みやすく書きやすく覚えやすい
    - ABC言語という教育用言語が元になっている
        - 予約語が少ない,      → 覚えることが少ない
        - インデントでかき分け → 間違いが少ない
        - だれが書いても同じになる(と言われてはいる)

- ライブラリが豊富
    - 統計処理を全部0から自分で書くのは大変
    - 他の人が作ったものを使えるようにするのがライブラリ
    - 様々な大学や企業,研究者が膨大な量の統計処理,機械学習ライブラリを開発している

- 遅いけど,Cなどと連携しやすい.
    - プログラミング言語ごとに速度は異なる.
    - Pythonは結構遅いので大きな計算に時間がかかる.
        - とても早い言語で遅い部分を書き換えやすい
        - ライブラリは基本的に早くなっている</code></pre>
</div>
<p>Pythonが教育用に良く使われるのは, インタプリタ方式の動的型付け言語であることから手軽に書けるだけではなく,もともと言語として簡単に書けるように作られていることが大きいです.</p>
<p>また, 統計,データサイエンス分野のライブラリが充実しており, これによって誰でも簡単に複雑な統計処理やデータサイエンスの技法が利用できることで,Pythonが広く普及しています.</p>
<p>簡単 → 教育用に → 多くの人が使う → ライブラリが充実 → もっと多くの人が使う</p>
<p>という流れがPythonの最大の強みと言えるでしょう.</p>
<p>実際にPythonはユーザー数が増え続けており,プログラムの共有サイトGitHubにおける2023年のすべての言語のなかで2番目にユーザ数が多い言語となっています.
<a href="https://github.blog/2023-11-08-the-state-of-open-source-and-ai/">Top 10 Programming languages on GitHub</a></p>
<figure>
<img src="../images/top-programming-languages-2023.png" alt="Top 10 Programming languages on GitHub" />
<figcaption aria-hidden="true">Top 10 Programming languages on GitHub</figcaption>
</figure>
<h3 data-number="1.2" id="授業準備"><span class="header-section-number">1.2</span> 授業準備</h3>
<p>この講義では,プログラムを自分で作成し,様々な演習をこなしてもらいますが,その前段階として,いくつかの準備が必要となります. このあたりはこの科目の先修科目の統計学入門でも扱っていますが,履修していない人もいますので,順番にやっていきましょう. 非常に基礎的な内容なので, 問題のない人は飛ばしましょう.</p>
<h4 data-number="1.2.1" id="テキストエディタ"><span class="header-section-number">1.2.1</span> テキストエディタ</h4>
<p>テキストエディタとは,プログラムを書くためのソフトウェアです.
プログラムを書くことをコーディング(Coding)といいます.</p>
<p>テキストエディタには沢山の種類があり,それぞれ独自の機能を持っています.
Windwosに最初から入っている｢メモ帳｣もテキストエディタですが,プログラムを書くために様々な機能が追加された高機能なテキストエディタも沢山あります.</p>
<p>例えば,シンタックスハイライト機能は,以下のプログラムのように,プログラムの記述を役割や意味に応じて色付けして見やすくしてくれます.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">## シンタックスハイライト</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greet_based_on_time():</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    now <span class="op">=</span> datetime.now()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    current_hour <span class="op">=</span> now.hour</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="dv">5</span> <span class="op">&lt;=</span> current_hour <span class="op">&lt;</span> <span class="dv">12</span>:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        greeting <span class="op">=</span> <span class="st">&quot;Good morning, world!&quot;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="dv">12</span> <span class="op">&lt;=</span> current_hour <span class="op">&lt;</span> <span class="dv">18</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        greeting <span class="op">=</span> <span class="st">&quot;Good afternoon, world!&quot;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        greeting <span class="op">=</span> <span class="st">&quot;Good night, world!&quot;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> greeting</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 関数を呼び出して結果を表示</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(greet_based_on_time())</span></code></pre></div>
<p>また,スペースをタブに変換するなどの機能も非常に便利です. 最近では生成AIを利用した自動補完機能がついたエディタなどもありますが,本講義における生成AIの利用に関しては第2回でコードを書き始めた際に説明します.</p>
<p>今までメモ帳以外のテキストエディタを利用したことが無い方には,シンプルなSublime Text 3をおすすめします(今世界的に人気があるのは VSCodeです.非常に便利ですが機能が多すぎて皆さんが混乱する可能性があるので,こちらを選びました).</p>
<p>既に何かしらのテキストエディタを利用している方は,現在使用しているエディタをそのまま利用して頂いても構いません.</p>
<p><a href="https://www.sublimetext.com/3">このURL</a>をクリックして,ページ上部にあるDownloadをクリックします. 自分のPCに合わせたインストール方法を選択しましょう.</p>
<figure>
<img src="../images/2024-04-08-lecture-DS-sublime-install.png" alt="Screenshot Sublime Text" />
<figcaption aria-hidden="true">Screenshot Sublime Text</figcaption>
</figure>
<div class="warn">
<p>SublimeTextもいろいろな機能を追加することができます.
｢SublimeText 設定｣などで調べて,好きなようにカスタマイズして構い舞いません.
カスタマイズをしなくても基本的な機能には問題ありません.</p>
</div>
<h3 data-number="1.3" id="imeの設定"><span class="header-section-number">1.3</span> IMEの設定</h3>
<p>プログラムは基本的に <strong>｢半角英数字｣</strong> で記述されます. プログラム中に全角の空白や記号が交じるとエラーの原因となる場合があります. そのため,プログラムを書く前に,そういったミスが起きないようにIMEの設定をしましょう.</p>
<p>タスクトレーからIMEの設定ができます．基本的に記号をすべて半角に設定しましょう（スペースは必ず半角にしましょう）．特に，句読点をコンマとピリオドに変更しましょう．</p>
<figure>
<img src="../images/2024-04-08-lecture-DS-IME.png" alt="IME" />
<figcaption aria-hidden="true">IME</figcaption>
</figure>
<h3 data-number="1.4" id="cliの基本操作"><span class="header-section-number">1.4</span> CLIの基本操作</h3>
<p>プログラムの開発環境にはマウスなどでクリックして操作するGUI(Graphical User Interface)をもったIDE(Integrated Development Environment)などもありますが,基本的には文字によってコンピュータに命令を送るCLI(Command Line Interface)を利用します. 映画やマンガなどで,ハッカーが黒い画面に文字を打っているあれのことです.</p>
<p>コンピュータのオペレーティングシステムとユーザー間のCLIを提供するプログラムをShellといい,Windowsでは,Command PromptやPowerShellなどがあります. MacなどのUnix系では,Bashやzshがあります. いずれも (Windows) Terminalというソフトウェアを介して利用します.</p>
<p>本講義では環境や好みによって好きな環境で開発して構いませんが,ここでは,PowerShellの利用法を解説します.</p>
<p>Windows11の検索バーで <code>Terminal</code>と検索して,出てきた <code>Terminal</code>をクリックしましょう.</p>
<figure>
<img src="../images/Terminal-launch.png" alt="Screenshot Terminal" />
<figcaption aria-hidden="true">Screenshot Terminal</figcaption>
</figure>
<p>自動的に<code>Windows PowerShell</code>が起動します. 立ち上がった,黒色の画面に文字でコマンド(命令)を入力して,コンピュータを操作します.</p>
<figure>
<img src="../images/Terminal-window.png" alt="Screenshot Terminal" />
<figcaption aria-hidden="true">Screenshot Terminal</figcaption>
</figure>
<h4 data-number="1.4.1" id="エンコーディング"><span class="header-section-number">1.4.1</span> エンコーディング</h4>
<p>実際にコマンドを入力する前に, 初心者がつまづきやすいポイントとして,Windowsのエンコーディングについて解説します.</p>
<p>PCは人間の使う文字（日本語，英語など）が理解できません.PCは機械語と呼ばれる言語で命令を受け付けます.一方で,人間は機械語を読むのが困難です.そこで,人間の使う文字と,機械語の間に変換ルールを設けて人間の文字でされた命令をPCにわかる文字に変換します.この変換ルールを文字エンコーディングと呼びます.</p>
<p>エンコーディングには複数の種類があります(日本語設定のWindowsはShift-JIS,Unix系はUnicodeが一般的です).
PythonはUTF-8という文字エンコーディングがデフォルトなので,Windowsにおいても可能な限りUTF-8を用いた方が良いです.</p>
<p>そこで,ターミナル上で利用するエンコーディングを変更します.
PowerShellを起動して, <code>chcp 65001</code> と打ち込み, PowerShell上で利用する文字エンコーディングをUTF-8に変更しましょう. <code>chcp</code>が利用する文字コードを変更するコマンド(change code page)で,その後に変更したい文字コードを入力します. <code>65001</code>は<code>UTF-8</code>のコードページ(Windows独自の文字エンコーディング)です. これはPowerShellを起動する度に行ってください．</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">chcp</span> 65001</span></code></pre></div>
<p>と入力すると,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Active</span> code page: 65001</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:<span class="dt">\U</span>sers<span class="dt">\u</span>ser<span class="op">&gt;</span></span></code></pre></div>
<p>のように表示されるはずです.</p>
<h4 data-number="1.4.2" id="日本語表示"><span class="header-section-number">1.4.2</span> 日本語表示</h4>
<p>Power Shellの設定によっては日本語が表示されず,日本語部分が <code>□</code> で置き換えられて表示されます.これは,使用しているフォントに日本語が含まれていないために発生します.</p>
<figure>
<img src="../images/powershell-tofu.png" alt="Screenshot PowerShell" />
<figcaption aria-hidden="true">Screenshot PowerShell</figcaption>
</figure>
<p>設定を変更してて日本語を表示可能にしましょう(
適当な日本語を入力してみて,問題なく表示されるようであれば,変更は必要ありません).</p>
<p>左上の<code>下向きの矢印 &gt; 既定値 &gt; 外観 &gt; フォントフェイス</code>の部分を日本語フォントに変更し<code>保存</code>をクリックすることで,日本語が表示されるようになります.</p>
<figure>
<img src="../images/Terminal-setting1.png" alt="Screenshot Terminal" />
<figcaption aria-hidden="true">Screenshot Terminal</figcaption>
</figure>
<figure>
<img src="../images/Terminal-setting2.png" alt="Screenshot Terminal" />
<figcaption aria-hidden="true">Screenshot Terminal</figcaption>
</figure>
<figure>
<img src="../images/Terminal-setting3.png" alt="Screenshot Terminal" />
<figcaption aria-hidden="true">Screenshot Terminal</figcaption>
</figure>
<p>その他色やサイズなど,好きな設定に変更できます. あとで,好みにカスタマイズしましょう.</p>
<h4 data-number="1.4.3" id="ディレクトリ"><span class="header-section-number">1.4.3</span> ディレクトリ</h4>
<p>基礎的なコマンドを学ぶ前に,ディレクトリに関して理解しておきましょう.
コンピュータの中のデータは,以下のような木構造になっています. このような木構造によるファイルの構造をディレクトリといいます.</p>
<pre><code>C: -- Users -- hoge
          |
            -- hoge2 -- Desktop
                   |
                     -- Downloads
                   |
                     -- Documents -- huga
                                |
                                  -- huga2</code></pre>
<p>CLIにおいて,ユーザはこの木構造のどこかに存在しており,この木構造を移動しながら様々な作業を行います. 現在いるディレクトリのことを <code>working directory</code>(以下wd)や<code>current directory</code>といいます.</p>
<h3 data-number="1.5" id="基礎的なコマンド"><span class="header-section-number">1.5</span> 基礎的なコマンド</h3>
<p>ここでは, この講義で必要となる最低限のコマンド,特にディレクトリの移動に関するコマンドを学習します.</p>
<p>wdは, CLIの左側に表示されていることが多いです.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2<span class="op">&gt;</span></span></code></pre></div>
<p>のように表示されていれば今<code>C:</code>ドライブ下の<code>Users</code>下の<code>hoge2</code>がwdとなります.</p>
<div class="warn">
<ul>
<li><p>Windowsでは,ディレクトリを区切る文字が<code>¥</code>あるいは<code>\</code>で表示されていると思います.</p></li>
<li><p>Macでは,<code>/</code>です.</p></li>
</ul>
<p>本資料では,<code>¥</code>を表示するのが <del>ダルい</del> 技術的に難しいので<code>/</code>を利用しています. 自分の環境に併せて適宜読み替えてください.</p>
</div>
<p>CLIの左側に表示されていない場合にも<code>pwd</code>コマンド (print working directory)を入力すると,現在のディレクトリが表示されます.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2<span class="op">&gt;</span> pwd</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">PATH</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">----</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">C:/Users/hoge2</span></span></code></pre></div>
<p>wdの下に何があるかを調べるコマンドとして<code>ls</code>コマンド(list)があります.</p>
<div class="warn">
<p>以下, <code>PS C:\Users\hoge2</code>の部分は省略します.</p>
</div>
<div class="sourceCode" id="cb9"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span></span></code></pre></div>
<p>※実際の画面では,もう少しいろいろな情報が書かれているかと思います.</p>
<p>wdから別のディレクトリに移動するコマンドとして <code>cd</code> コマンド(change directory)があります</p>
<p><code>cd [移動先]</code> と打つことで,lsコマンドで出てきた,ディレクトリに移動することができます.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Documents</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2/Documents</span></code></pre></div>
<div class="warn">
<p>移動先のディレクトリ名はすべて自分で入力する必要はありません. 最初の数文字を入力して<code>Tab</code> Keyを押すと,自動で保管してくれます.</p>
</div>
<p><code>cd ..</code> と打つと一つ前のディレクトリ,<code>cd ~</code>と打つとホームディレクトリ(基本的には最初に開いた際にいた場所)に一挙に移動することができます.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2/Documents</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">..</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Documents/huga</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2/huga</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">~</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2</span></code></pre></div>
<p><code>mkdir [作りたいディレクトリ名]</code> コマンド(make directory)で,新しいディレクトリを作成できます.</p>
<p><code>rmdir [消したいディレクトリ名]</code> コマンド(remove directory)で,ディレクトリを消すことができます.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pwd</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">PS</span> C:/Users/hoge2</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Desktop</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Downloads</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="ex">Documents</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Documents</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="ex">huga</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="ex">huga2</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> mkdir <span class="ex">huga3</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="ex">huga</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="ex">huga2</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="ex">huga3</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> rmdir <span class="ex">huga3</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="ex">huga</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="ex">huga2</span></span></code></pre></div>
<p><code>rmdir</code> コマンドでは中身のあるディレクトリは消せません. オプションを追加することで消せますが,危険なのでここでは教えません.興味があったら自分で調べてみましょう.</p>
<div class="note">
<p><strong>練習:作業用ディレクトリを作ろう</strong></p>
<ul>
<li><p>これから,作業をするためのディレクトリをコマンドで作成しましょう.</p>
<ul>
<li>Documentsに移動</li>
<li>Programs というディレクトリを作成し移動</li>
<li>Python というディレクトリを作成し移動</li>
<li>slds というディレクトリを作成し移動
(名前は好きに設定して良いです. slds; special lecture data science)</li>
</ul></li>
</ul>
<p>これからこの講義で利用するプログラムなどはsldsに保存しましょう.</p>
</div>
<h3 data-number="1.6" id="環境構築"><span class="header-section-number">1.6</span> 環境構築</h3>
<p>自身の環境(PC)でプログラムが動くようにすることを環境構築といいます. Python自分のPCで動くように設定をしましょう.</p>
<p>Pythonの環境構築に関して説明します.Pythonを動かす方法は沢山あります.一つのソフトの中でプログラムの編集から実行まで全て完結するIDE(統合開発環境)やブラウザ上で実行する方法もありますが,ここではCLIを利用して実行する方法を準備します.Windowsを所有している学生が多いと思われるので,Windowsを前提に説明します. それ以外のOSの方は分からなければ教員に聞いて下さい.</p>
<p>Pythonの<a href="https://www.python.org/downloads/windows/">公式サイト</a>からPythonをダウンロードしましょう.</p>
<p>Windows → 最新の一つ前のバージョンの Windows installer (64-bit) をクリック</p>
<p>最新版を入れたいところですが,一番上のVersionは色々と不具合が起きる可能性があるので,上から2つ目のVersionにしておきましょう(バージョンの数字は,サイトを開いた時期によって変わります.)</p>
<figure>
<img src="../images/python-download.png" alt="Download Python" />
<figcaption aria-hidden="true">Download Python</figcaption>
</figure>
<p>ダウンロードした Python-3.12.1.exeをクリックするとウィンドウが開きます. 指示に従ってインストールしましょう．</p>
<div class="warn">
<p>注意点</p>
<p>開いたWindowで</p>
<ul>
<li><p><code>Insatall launcher for all users(recommended)</code></p></li>
<li><p><code>Add Python 12.1 to PATH</code></p></li>
</ul>
<p>というチェックボックスが出てきたら,それらにチェックを入れてから次に進みましょう.</p>
<p>この画面もVersionなどによって変わるため,分からなければ教員に聞いて下さい.</p>
<figure>
<img src="../images/install-python.png" alt="Install Python" />
<figcaption aria-hidden="true">Install Python</figcaption>
</figure>
</div>
<p>インストールが終わったら <strong>新しくPowerShellを開いて</strong> <code>python --version</code> と入力しましょう.
<strong>Macの人は</strong> <code>python3 --version</code> とコマンドが変わりますので注意してください. Macの人は以降,<code>python</code> コマンドはすべて <code>python3</code> コマンドに読み替えてください.</p>
<p>install したversionのPythonが表示されれば無事インストールされています.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> python <span class="ex">--version</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.12.1</span></code></pre></div>
<h3 data-number="1.7" id="hello-world"><span class="header-section-number">1.7</span> Hello World</h3>
<p>初めて作成するプログラムとして標準出力(PowerShellなどの画面)に<code>Hello World</code>と出力するだけのプログラムを作成してみます.</p>
<p><code>PowerShell</code>を開いて,自分の作業用ディレクトリに移動します.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> chcp <span class="ex">65001</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Documents/Programs/Python/slds</span></span></code></pre></div>
<p>テキストエディタで新しいファイルを開き,<strong>作業用ディレクトリ</strong>に<code>hello.py</code>という名前で保存しましょう.</p>
<p><code>.py</code>はPythonプログラムの拡張子です.</p>
<p>保存は,タブから<code>File &gt; save with encoding &gt; UTF-8</code>の順にクリックし<code>UTF-8</code>で保存しましょう.
それ以降は <code>Ctrl + s</code>などで上書き保存しても構いません.</p>
<p>作成したディレクトリに移動し, lsコマンドでファイルがあるか確認しましょう.
ょう.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> ls</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">hello.py</span></span></code></pre></div>
<p>確認できたらhello.pyに以下の2行を書き足して上書き保存します.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -*- coding:utf-8 -*-</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(“Hello world<span class="op">!</span>”)</span></code></pre></div>
<p>保存できたら<code>python hello.py</code>コマンドでプログラムを実行します.
(Macの人は <code>python3 hello.py</code>です.)</p>
<p>標準出力に<code>Hello World!</code>と表示されれば成功です.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> python <span class="ex">hello.py</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Hello</span> World!</span></code></pre></div>
<p>ここまでで，皆さんはPCでプログラムを書く準備が整いました．
あとはプログラムの書き方を学習すれば自身の環境で開発が行なえます．</p>
<h3 data-number="1.8" id="プログラミングの勉強の仕方"><span class="header-section-number">1.8</span> プログラミングの勉強の仕方</h3>
<p>プログラミング言語は,文字通り<strong>言語</strong>です. 英語などと同じ様に,使わないと身につきません.なので,大事なことは<strong>勉強するより使う</strong>ことです.</p>
<p>英語の勉強で,一つひとつ文法を覚えることは大切かもしれませんが,実際に英文を書いたり,会話しないと使えるようにはなりません. プログラミングの学習で,学習用の資料や教科書を一つ一つ<strong>読んだり,ノートに書き写す人</strong>がたまにいますが,かなり効率が悪い方法です. 何も分からなくてもいいので,取り敢えずプログラムを書いて実行するようにしましょう. 資料に載っている例はすべて,実際に書いて実行してみましょう.</p>
<p>一番いい方法は,何も分からなくても取り敢えず,プログラムをつかってしてみたいことを実行することです.1からすべての構文などを覚えようとしないで,自分がやりたい,しなければならないことを,書き始めましょう. <strong>分からないところだけを</strong>調べれば十分です.</p>
<p>その際に,新しく知ったことは,メモなどして,あとで参照できるようにしておきましょう. その資料が後々役に立ちます.</p>
<p>プログラミングは,すべて暗記する必要はありません. 覚えていなくても,それの調べ方や載っている資料を知っていれば十分です. 何回も使う機能であれば自然に覚えます.</p>
<p><strong>ただし,</strong> Pythonは非常に多くの人が利用しているので,みなさんがこの講義で習うレベルのことは検索すれば既に,完成したプログラムを参考にすることができます. また,ChatGPTなどの生成AIを利用すれば,皆さんの書いたプログラムよりかなりできの良いものをすぐに得ることができます. それらを見て勉強することは大切ですが,ただ,只管コピペしたり,生成AIの結果を利用しているだけでは,全く身につきません. 検索して出てきたコードや,生成AIによるコードを利用しても構いませんが, それをただ貼り付けるのではなく,<strong>自分で読んで,理解する</strong>ようにしましょう.</p>
<p>知らない部分,自分では書けない部分が見つかったらそれを理解するように勉強しましょう. ChatGPTに質問しても構いません. ただ,聞いたことを説明できるようにしましょう.</p>
<p>自分で説明できないものを使えるのは<strong>せいぜい学校の課題くらいです</strong>. 仕事や研究では,中身の良く分からないコードは利用できません. 最低限自分で理解したものだけを利用してください.</p>
<p>講義では,結果があっていればよいだけではなく,<strong>なぜそのように書いたのか</strong>,<strong>どのような意味か</strong>,<strong>なぜこうなるのか</strong>などを皆さんに聞きますので,理解に務めるようにしましょう.</p>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li><u>演習1 Shellコマンドの調査</u></li>
</ul>
<p>今回ならったいくつかのコマンド以外にも便利なコマンドが沢山あります. 3つ調べて,使い方を説明してください.</p>
<ul>
<li><u>演習2 チートシートの作成</u></li>
</ul>
<p>チートシートとは「それだけを見れば必要な情報が分かるメモ書き」のことです.
プログラミングの学習では, 自分でノートを取って,それさえ見ればなんとかできる資料を作る のは非常に有用です.</p>
<p><code>.ppt</code>でも<code>.txt</code>でも形態は何でも良いので, 自分だけのチートシートを作成して, 今日覚えたこと,調べたことなどをメモしていきましょう.</p>
<p>◦ CLI, Pythonの基礎, Pandasなど学習の区切りごとにシートを分けると便利です.</p>
<p>◦ スライドサイズを事前に大きく設定しておくと便利です</p>
<p>書き方は自由ですが, <a href="https://www.google.com/search?newwindow=1&amp;client=safari&amp;sca_esv=635483f0705dd420&amp;sca_upv=1&amp;q=python+%E3%83%81%E3%83%BC%E3%83%88%E3%82%B7%E3%83%BC%E3%83%88&amp;uds=AMwkrPtd7EXxieMQKehnHvZf8S6pNpVcJzQvmfSMfustdt5GVU4paqDezVS1KwRLLfnWdTPfRKqI2vio1swnpAMe65pQfFGqsLrhLm9FBruViqbu8gs83egRP5pID9cAUWbOoFAII8Bi4Sa9pC2nZB8uNY_Im_IVhSc-ISQJazoPJyS7Y5hq8j_wtxEDwusT0kav7Mhx_On2phc8rZKZ0rWb3f5AykS1iJlyMqAYBs5Ke8QgUSIasP6AkeP9P6DIKWQaXCglNYTRDcA_cLO0qv_MU45G2ng9BfipwmjcaL4l2EsY-TdRRazsTUowT__BAUHIv2lsEG32&amp;udm=2&amp;prmd=ivsnmbtz&amp;sa=X&amp;ved=2ahUKEwiA48qB-bOFAxU3aPUHHYJmBQsQtKgLegQICRAB&amp;biw=1147&amp;bih=1269&amp;dpr=1">検索して</a>有名なチートシートを参考にしてください.</p>
<p>このチートシートは後で紹介してもらいます.</p>
<ul>
<li><u>演習3 <code>print()</code>の利用</u></li>
</ul>
<p>今回作成した<code>hello.py</code>における
<code>print()</code> という関数は()内の文字(<code>""</code>で囲われている部分)を標準出力する関数です.
<code>print()</code>の括弧内の <code>Hello World!</code> 部分を好きな文字に書き換えて実行してみましょう.</p>
</div>
<div class="warn">
<p><strong>演習について</strong></p>
<p>この資料では,所々に演習が指定されています.
演習は自分で行い, どのようにやったのかを講義中に発表,あるいは宿題として提出してもらいます.</p>
<p>家で演習を進めた場合には,講義中にそれが再現できるように,</p>
<ul>
<li>どのようにやったのか</li>
<li>なぜやったのか</li>
</ul>
<p>などを人に説明できるように<strong>必ず作成したメモ,資料</strong>などを残しておきましょう.</p>
</div>
</details>
<h2 data-number="2" id="pythonことはじめ"><span class="header-section-number">2</span> Pythonことはじめ</h2>
<details>
<summary>
開く
</summary>
<p>第2回では,Pythonの基礎の基礎を学習します.
本講義はプログラミング自体の学習を対象としているわけではないので,
講義内で必要な技能を紹介するのみに留めます.</p>
<p>基本的には,公式の<a href="https://docs.python.org/ja/3/tutorial/index.html">Pythonチュートリアル</a>の内容で必要十分ですので,そちらにそって学習を進めます.
より詳しい内容を勉強したい場合には,プログラミングの講義を履修するか,
<a href="http://cucieee.stars.ne.jp/index.html">千葉商科大学IEEESB</a>
などに参加するのが良いかと思います.</p>
<p>今回は取り敢えず,以下の作業を自分で行いながら,Pythonの体験をしてみましょう.</p>
<h3 data-number="2.1" id="replを使ってみよう"><span class="header-section-number">2.1</span> REPLを使ってみよう</h3>
<p>プログラムの対話環境全般をREPL (Read Eval Print Loop)と呼びます. 長いプログラム(スクリプト)を書かなくても対話的にプログラムを実行することができます.</p>
<p>Pythonには複数のREPLがあり,iPython, jupyternotebook, Google Colaboratoryなどがあります.ここではとりあえず,iPythonを利用します. 他のものについても,後ほど出てきます.</p>
<p>CLI(PowerShellやTerminal)を開いて,<code>python</code>(Mac の人はPython3)とだけ打ってEnter Keyを入力するとPythonのREPLが立ち上がります.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.10.11 <span class="er">(</span><span class="ex">v3.10.11:7d4cc5aa85,</span> Apr  4 2023, 19:05:19<span class="kw">)</span> <span class="ex">[Clang</span> 13.0.0 <span class="er">(</span><span class="ex">clang-1300.0.29.30</span><span class="kw">)</span><span class="ex">]</span> on darwin</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">&quot;help&quot;</span>, <span class="st">&quot;copyright&quot;</span>, <span class="st">&quot;credits&quot;</span> or <span class="st">&quot;license&quot;</span> for more information.</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span></span></code></pre></div>
<p>プログラムを書いてEnter Keyを押すとその行のプログラムが実行されます.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="ex">+</span> 1</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span></code></pre></div>
<p>終了するには,<code>exit()</code>と入力します.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span> 1m 7s</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.10.11 <span class="er">(</span><span class="ex">v3.10.11:7d4cc5aa85,</span> Apr  4 2023, 19:05:19<span class="kw">)</span> <span class="ex">[Clang</span> 13.0.0 <span class="er">(</span><span class="ex">clang-1300.0.29.30</span><span class="kw">)</span><span class="ex">]</span> on darwin</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">&quot;help&quot;</span>, <span class="st">&quot;copyright&quot;</span>, <span class="st">&quot;credits&quot;</span> or <span class="st">&quot;license&quot;</span> for more information.</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="ex">+</span> 1</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> exit<span class="kw">()</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span> 1m 7s</span></code></pre></div>
<h3 data-number="2.2" id="コメントアウト"><span class="header-section-number">2.2</span> コメントアウト</h3>
<p>REPL上でもスクリプトでも,#を先頭につけると,その行はコメントとして扱われます.</p>
<p>ただのコメントであり,プログラムとしては何も実行されません.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">これはコメント何も起きない</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span></span></code></pre></div>
<h3 data-number="2.3" id="データ型"><span class="header-section-number">2.3</span> データ型</h3>
<p>第1回の検査に関する説明で軽く触れましたが, プログラミングで扱うデータはコンピュータのメモリ上に数値の羅列として存在します. それらの数値に人間が解釈可能な意味を与えたものをデータ型といいます.</p>
<p>Pythonで最初から準備されているデータ型(<strong>組み込み型</strong>)には以下のようなものがあります.
詳細はこのあと順番に見ていきますので, こんなものがあるということだけ,頭に入れておきましょう.</p>
<div class="note">
<p>Pythonのデータ型(一部)</p>
<ul>
<li><p>数値型:数値を表す</p>
<ul>
<li>整数(<code>int</code>)</li>
<li>浮動小数点数(<code>float</code>)</li>
<li>複素数(<code>complex</code>)</li>
</ul></li>
<li><p>文字列型(<code>str</code>):文字を表す</p></li>
<li><p>リスト(<code>list</code>):いくつかのデータをまとめたもの</p></li>
<li><p>タプル(<code>tuple</code>):データの組み合わせ</p></li>
<li><p>辞書型(<code>dict</code>):<code>key</code>と<code>value</code>からなる辞書を表す</p></li>
<li><p>真偽値(<code>bool</code>):正しいか正しくないかなどを表す</p></li>
</ul>
</div>
<h4 data-number="2.3.1" id="数値型pythonを電卓として使う"><span class="header-section-number">2.3.1</span> 数値型(Pythonを電卓として使う)</h4>
<p>REPLの動きに慣れるために,電卓で行うような簡単な計算をREPL上で行いましょう.
電卓で行う計算なので,ここで扱うデータ型は数値型になります.
Pythonは,における数値型には整数を表す<code>int</code>,小数を表す<code>float</code>,複素数を表す<code>complex</code>があります. 本資料では,その内<code>int</code>と<code>float</code>について扱います.</p>
<p>基本的には<code>1</code>や<code>100</code>のような整数を書けば<code>int</code>型として認識され,<code>1.0</code>や<code>100.3</code>のように小数点をつけると<code>float</code>型として認識されます.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1.0</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">1.0</span></span></code></pre></div>
<p>Pythonでは<code>type()</code>の丸括弧の中にデータを記述することで特定のデータのデータ型を確認することができます.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> type<span class="kw">(</span><span class="ex">1</span><span class="kw">)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>class <span class="st">'int'</span><span class="op">&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> type<span class="kw">(</span><span class="ex">1.0</span><span class="kw">)</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>class <span class="st">'float'</span><span class="op">&gt;</span></span></code></pre></div>
<p>整数や後述の文字など変換可能なデータ型から,<code>int</code>型へ変換するには<code>int()</code>の中に,そのデータを書きます. <code>float</code>型に変換するには,<code>float()</code>を使います.<code>int</code>から<code>float</code>への変換では,小数点以下が切り捨てられます.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> int<span class="kw">(</span><span class="ex">4.9</span><span class="kw">)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> float<span class="kw">(</span><span class="ex">2</span><span class="kw">)</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="ex">2.0</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> float<span class="kw">(</span><span class="st">&quot;2&quot;</span><span class="kw">)</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="ex">2.0</span></span></code></pre></div>
<p>Pythonでは複数の数値型が混ざった計算に対応しています. 基本的に,特定の計算で複数の数値型が混じっている場合には, <code>int</code>型は<code>float</code>型に,<code>float</code>型は<code>complex</code>型に自動で拡張されるので本講義の範囲ではそれほど意識する必要はありません.</p>
<p>簡単な計算に用いる記号は以下のとおりです.</p>
<table>
<thead>
<tr class="header">
<th>計算</th>
<th>記号</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>足し算</td>
<td><code>+</code></td>
</tr>
<tr class="even">
<td>引き算</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td>掛け算</td>
<td><code>*</code></td>
</tr>
<tr class="even">
<td>割り算</td>
<td><code>/</code></td>
</tr>
<tr class="odd">
<td>整数除算</td>
<td><code>//</code></td>
</tr>
<tr class="even">
<td>剰余(余り)</td>
<td><code>%</code></td>
</tr>
<tr class="odd">
<td>累乗</td>
<td><code>**</code></td>
</tr>
<tr class="even">
<td>絶対値</td>
<td><code>abs()</code></td>
</tr>
<tr class="odd">
<td>整数変換</td>
<td><code>int()</code></td>
</tr>
<tr class="even">
<td>小数変換</td>
<td><code>float()</code></td>
</tr>
</tbody>
</table>
<p>実際の計算は以下のようになるはずです.</p>
<p>計算は普通の電卓と同じような感覚で使えます.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">足し算</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="ex">+</span> 1</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">引き算</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 10 <span class="ex">-</span> 5</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">掛け算</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 2 <span class="ex">*</span> 3</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="ex">6</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">割り算</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 100 <span class="ex">/</span> 5</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="ex">20.0</span></span></code></pre></div>
<p>計算には順序があり丸括弧 <code>()</code>で囲うことで計算する順番を変えることができます.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">50</span> <span class="at">-</span> 5 <span class="pp">*</span> 6<span class="kw">)</span> <span class="ex">/</span> 4</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="ex">5.0</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 50 <span class="ex">-</span> 5 <span class="pp">*</span> 6 / 4</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="ex">42.5</span></span></code></pre></div>
<p>マイナスの数は数値の前に<code>-</code>をつけます</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 10 <span class="ex">+</span> <span class="at">-5</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span></span></code></pre></div>
<p>割り算の商と余りは<code>//</code>や,<code>%</code>で計算できます.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">整数除算</span><span class="er">(</span><span class="ex">余りを表示しない</span><span class="kw">)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 6 <span class="ex">//</span> 4</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1.0</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">剰余</span><span class="er">(</span><span class="ex">余り</span><span class="kw">)</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 17 <span class="ex">%</span> 3</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 5 <span class="ex">*</span> 3 + 2</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="ex">17</span></span></code></pre></div>
<p>同じ数字をX回掛けたものを累乗といい,<code>**</code>といいます. <code>2 ** 3 = 2 * 2 * 2</code></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">累乗</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 2 <span class="ex">**</span> 2</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 2 <span class="ex">**</span> 3</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="ex">8</span></span></code></pre></div>
<p><code>abs()</code> の中に数値を入れることで絶対値が計算できます</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> abs<span class="kw">(</span><span class="ex">4</span><span class="kw">)</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> abs<span class="kw">(</span><span class="ex">-4</span><span class="kw">)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span></code></pre></div>
<p>:::</p>
<p><strong>演習</strong></p>
<p>以下の計算をREPLを使って自分でしてみましょう.
Pythonの計算になれることが目的ですので,どのように計算したかを説明できるようにしましょう.</p>
<ul>
<li><p>飴が40個あります.7人で同じ数ずつ分けると1人分は何個で何個あまりますか?</p></li>
<li><p>底辺5cm,高さ4cmの三角形の面積はいくつですか?</p></li>
<li><p>2の8乗はいくつですか?</p></li>
<li><p>累乗と掛け算の計算順序を丸括弧を使った計算で確かめてください.</p></li>
</ul>
<p>:::</p>
<h3 data-number="2.4" id="変数と代入"><span class="header-section-number">2.4</span> 変数と代入</h3>
<p>値に名前をつけることを<code>代入</code>といい,名前のついた値を<code>変数</code>といいます. <code>=</code> の左側に付けたい名前,右側に値を書きます.</p>
<p>プログラムでは,データはコンピュータの記憶領域(メモリ)に格納されています. メモリは,1バイト(8bit, 1bit は0/1の値)ごとにアドレスという連番がついています.</p>
<figure>
<img src="../images/memory-null.png" alt="memory null" />
<figcaption aria-hidden="true">memory null</figcaption>
</figure>
<div class="sourceCode" id="cb31"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 10</span></code></pre></div>
<p>変数を宣言するということは,このアドレスにデータを割り当てることを意味します.
<code>x = 10</code>という変数が4バイト利用するとしたら以下のようにアドレス 201 から204 に 10という数字(int)を割り当てるイメージです.</p>
<figure>
<img src="../images/memory-10.png" alt="memory 10" />
<figcaption aria-hidden="true">memory 10</figcaption>
</figure>
<p><code>x</code>のアドレスは<code>id(x)</code>で確認できます.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">x</span><span class="kw">)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span></code></pre></div>
<p><code>y = x</code> と変数に別の名前を宣言する場合は,同じ場所が参照されます.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="ex">=</span> x</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">x</span><span class="kw">)</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">y</span><span class="kw">)</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span></code></pre></div>
<figure>
<img src="../images/memory-10y.png" alt="memory 10" />
<figcaption aria-hidden="true">memory 10</figcaption>
</figure>
<p><code>x=15</code>と再度代入する(再代入)と,新しくメモリが確保されます.
その際に,<code>x</code>をコピーしていた<code>y</code>の値も変わることに注意しましょう.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 15</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">x</span><span class="kw">)</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639280</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">y</span><span class="kw">)</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639280</span></span></code></pre></div>
<figure>
<img src="../images/memory-15.png" alt="memory 15" />
<figcaption aria-hidden="true">memory 15</figcaption>
</figure>
<p>数値の場合には<code>y</code>に再代入しても,<code>x</code>の値は変わりません.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 10</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="ex">=</span> x</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">x</span><span class="kw">)</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">y</span><span class="kw">)</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="ex">=</span> 15</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="ex">15</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">x</span><span class="kw">)</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639120</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">y</span><span class="kw">)</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="ex">4438639280</span></span></code></pre></div>
<p>この挙動は,後に出てくる配列では,異なるので注意が必要です.</p>
<div class="note">
<p>変数に名前をつける際には,以下の点に注意しましょう.</p>
<ul>
<li><p>小文字で始まる英数字を使う</p></li>
<li><p>複数の単語を使うときは<code>_</code>(アンダーバー)でつなげる</p></li>
<li><p>英語で名前をつける</p>
<ul>
<li><code>nagasa</code> ではなく <code>length</code></li>
<li><code>namae</code> ではなく <code>name</code></li>
</ul></li>
<li><p>長くなっても良いので他の人が見たときに意味がわかる名前をつける</p>
<ul>
<li>三角形の高さを表したいとして
<ul>
<li><code>x</code>や<code>h</code>などの一文字よりも</li>
<li><code>height</code>のほうが良い</li>
<li>他にも高さを表す変数が登場するなら
<code>triangle_height</code>のほうがより分かりやすい</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> # <span class="ex">長方形の面積を求める</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> width <span class="ex">=</span> 20</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> height <span class="ex">=</span> 5</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> area <span class="ex">=</span> width <span class="pp">*</span> height</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> area</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="ex">900</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> #定義されていないものはエラーがでます</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> space</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="ex">Traceback</span> <span class="er">(</span><span class="ex">most</span> recent call last<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a> <span class="ex">File</span> <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line 1, in <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="ex">NameError:</span> name <span class="st">'space'</span> is not defined</span></code></pre></div>
</div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li>変数を利用して以下の猫型ロボットのBMIを計算してください
<ul>
<li>BMI = 体重(kg)÷身長(m)の2乗</li>
<li>猫型ロボットの身長 129.3cm</li>
<li>猫型ロボットの体重 129.3kg</li>
</ul></li>
</ul>
</div>
<h4 data-number="2.4.1" id="代入演算子"><span class="header-section-number">2.4.1</span> 代入演算子</h4>
<p>代入は<code>=</code>でつなげる以外にもいくつかのパターンがあります.
まずは,普通に変数に数値を代入してみます.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 1</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 2</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span></code></pre></div>
<p>このように具体的な値を<code>=</code>の右側に記入するのは直感的に分かりやすいのですが,pythonのプログラムを見ていると,左右に同じ変数名が登場する場合があります.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 1</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> x + 1</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span></code></pre></div>
<p>これは,<strong>右側に登場する</strong><code>x</code>は過去の<code>x</code>を表しており,<strong>左側に登場する</strong><code>x</code>は,過去の<code>x</code>を利用して作られた新しい<code>x</code>であると解釈しましょう.</p>
<p>上の例では,<code>x=1</code>という過去の変数を使って, <code>x(=1) + 1</code>という新しい<code>x</code>を作っています.
これは<strong>自己代入</strong>と呼ばれ,数学や関数型言語における<strong>再帰</strong>とは異なり,手続き型言語独特の記法なので注意しましょう.</p>
<p>足し算<code>+</code>を使った自己代入は省略して, <code>x += 1</code>のように書けます. これは <code>x = x + 1</code>の省略形で<strong>複合代入演算子</strong>といいます.</p>
<p>同様に,引き算<code>-=</code>,掛け算 <code>*=</code>, 割り算 <code>/=</code>などの代入演算子も存在します.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> 10</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">-=</span> 5</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">*=</span> 5</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="ex">25</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">/=</span> 5</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="ex">5</span></span></code></pre></div>
<h3 data-number="2.5" id="文字列型"><span class="header-section-number">2.5</span> 文字列型</h3>
<p>ここまでは,数値のみを扱ってきましたが,Pythonには数値以外にもいくつものデータ型が存在します.
次に, 文字を表す<code>文字列型(str)</code>の利用法について見ていきましょう.</p>
<p>文字列型は,文字を<code>""</code>(ダブルクオーテーション),あるいは<code>''</code>(シングルクォーテーション)で囲みます.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;イヌ&quot;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="st">'イヌ'</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'ネコ'</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="st">'ネコ'</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> type<span class="kw">(</span><span class="st">'ネコ'</span><span class="kw">)</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>class <span class="st">'str'</span><span class="op">&gt;</span></span></code></pre></div>
<p>三連引用符<code>"""</code>で囲むことで複数行書くことができます.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;&quot;&quot; あ</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="st">... い</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="st">... う&quot;&quot;&quot;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="st">'あ\nい\nう'</span></span></code></pre></div>
<p><code>\n</code>は改行を表しています.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> print<span class="kw">(</span><span class="st">'あ\nい\nう'</span><span class="kw">)</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="ex">あ</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="ex">い</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="ex">う</span></span></code></pre></div>
<h4 data-number="2.5.1" id="文字列の演算"><span class="header-section-number">2.5.1</span> 文字列の演算</h4>
<p>文字列は<code>+</code>で連結,<code>*</code>で反復させることができます.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name <span class="ex">=</span> <span class="st">'太郎'</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'私は'</span> <span class="ex">+</span> name <span class="st">'です!'</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="st">'私は太郎です!'</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name <span class="ex">*</span> 3</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="st">'太郎太郎太郎'</span></span></code></pre></div>
<p>文字列が代入された変数の後ろに<code>[]</code>をつけて,番号を<code>[]</code>の中に入れると,指定した番号番目の文字が取得できます. このような<code>[]</code>で指定する数字を<code>index</code>といいます.</p>
<p><code>Python</code>という文字に対して,indexは以下のように振られています.
<code>-</code>をつけて後ろから数えることもできます.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">文字列</th>
<th style="text-align: center;">P</th>
<th style="text-align: center;">y</th>
<th style="text-align: center;">t</th>
<th style="text-align: center;">h</th>
<th style="text-align: center;">o</th>
<th style="text-align: center;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">前から</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">後ろから</td>
<td style="text-align: center;">-6</td>
<td style="text-align: center;">-5</td>
<td style="text-align: center;">-4</td>
<td style="text-align: center;">-3</td>
<td style="text-align: center;">-2</td>
<td style="text-align: center;">-1</td>
</tr>
</tbody>
</table>
<p>Pythonの文字列は,最初の文字を<code>0</code>番目と数えるので注意しましょう.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word <span class="ex">=</span> <span class="st">'Python'</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="st">'P'</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">5</span><span class="pp">]</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="st">'n'</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> word<span class="pp">[-</span><span class="ss">6</span><span class="pp">]</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="st">'p'</span></span></code></pre></div>
<p>インデックスの<code>[]</code>の中で,<code>[Start:End]</code>のようにはじめと終わりのインデックスを指定することで,文字列の1文字ではなく,部分的な文字列を取得することもできます. これを<strong>スライス</strong>といいます.</p>
<p>終わりは,一つ手前までになるので注意しましょう.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">0:2</span><span class="pp">]</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="st">'Py'</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">2:5</span><span class="pp">]</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="st">'tho'</span></span></code></pre></div>
<p>はじめか終わりのインデックスを省略すると,<strong>以降全て</strong>という意味になります.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">:4</span><span class="pp">]</span> <span class="co">#0から4まで</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="st">'Pyth'</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word<span class="pp">[</span><span class="ss">2:</span><span class="pp">]</span> <span class="co">#2から最後まで</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="st">'thon'</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li>演習1</li>
</ul>
<p><code>'abcdefg'</code> から <code>'cde'</code>をスライスで抜き出してください.</p>
<ul>
<li>演習2</li>
</ul>
<p><code>x = 'abcdefg'</code>と定義して, xに操作を加えて<code>'abfg'</code>を作ってください.</p>
<ul>
<li>演習3</li>
</ul>
<p><code>x = 'abcdefg'</code>と定義して, xに操作を加えて<code>'bbbeee'</code>を作ってください.</p>
</div>
<h3 data-number="2.6" id="リスト"><span class="header-section-number">2.6</span> リスト</h3>
<p>複数の値をまとめるデータ型の一種に<strong>リスト型</strong>があります. コンマで区切って角括弧の中に複数の値を書くことで,ひとまとまりのデータを作れます.
リストの中身一つ一つを<strong>要素</strong>といいます.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares <span class="ex">=</span> <span class="pp">[</span><span class="ss">1,4,9,16,25</span><span class="pp">]</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="ex">[1,4,9,16,25]</span></span></code></pre></div>
<p>リストは文字列と同じ様に,インデックスやスライスで要素を取得できます.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares<span class="pp">[-</span><span class="ss">1</span><span class="pp">]</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="ex">25</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares<span class="pp">[-</span><span class="ss">3:</span><span class="pp">]</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[9,16,25]</span></span></code></pre></div>
<h4 data-number="2.6.1" id="リストの演算"><span class="header-section-number">2.6.1</span> リストの演算</h4>
<p>リストも<code>+</code>で連結,<code>*</code>で反復させることができます.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ex">[1,2,3]</span> + <span class="pp">[</span><span class="ss">4,5,6</span><span class="pp">]</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[1,2,3,4,5,6]</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ex">[1]</span> <span class="pp">*</span> 3</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[1,1,1]</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ex">[1,2]</span> <span class="pp">*</span> 3</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[1,2,1,2,1,2]</span></span></code></pre></div>
<p>リストはインデックスやスライスで指定した要素に値を再代入して変更することができます.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal <span class="ex">=</span> <span class="pp">[</span><span class="st">'cat'</span><span class="ss">,</span><span class="st">'dog'</span><span class="ss">,</span><span class="st">'bird'</span><span class="pp">]</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal<span class="pp">[</span><span class="ss">1</span><span class="pp">]</span> <span class="ex">=</span> <span class="st">'mouse'</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span><span class="st">'mouse'</span><span class="ex">,</span><span class="st">'bird'</span><span class="ex">]</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal<span class="pp">[</span><span class="ss">1:</span><span class="pp">]</span> <span class="ex">=</span> <span class="pp">[</span><span class="st">'fish'</span><span class="ss">,</span><span class="st">'pig'</span><span class="pp">]</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span><span class="st">'fish'</span><span class="ex">,</span><span class="st">'pig'</span><span class="ex">]</span></span></code></pre></div>
<div class="warn">
<p>リストは,数値などとは<strong>変数に別の名前をつけたときの挙動が異なる</strong>ので注意が必要です.</p>
<p>数値や文字列は,別の名前をつけた変数に再代入した場合もとの変数は,変更されません.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cat <span class="ex">=</span> <span class="st">'cat'</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat <span class="ex">=</span> cat</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat <span class="ex">=</span> <span class="st">'cute_cat'</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cat</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="st">'cat'</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="st">'cute_cat'</span></span></code></pre></div>
<p><code>cute_cat</code>を変更しても<code>cat</code>は変わりません. 代入の説明箇所で見たように,数値などの変数の場合は,<code>cute_cat</code>には<code>cat</code>の値が渡されており,値が同じ場合には同じアドレスを参照するが,値が変更された場合には,
新しいメモリが確保されます.</p>
<p>しかし,リストは別名の変数を変更すると元の変数の値も変更されます.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal <span class="ex">=</span> <span class="pp">[</span><span class="st">'cat'</span><span class="ss">,</span><span class="st">'fish'</span><span class="ss">,</span><span class="st">'pig'</span><span class="pp">]</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="ex">=</span> animal</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span> <span class="ex">=</span> <span class="st">'horse'</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'horse'</span><span class="ex">,</span> <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'horse'</span><span class="ex">,</span> <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span></code></pre></div>
<p><code>animal</code>の別名<code>species</code>を変更すると<code>animal</code>も変更されています. これは,配列などは新しい名称の変数に,値ではなくアドレスを渡していることによります.どちらの変数もずっと同じアドレスを参照しつづけるため,片方が変化すると同じアドレスを参照しているもう片方の値も変わります.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">animal</span><span class="kw">)</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="ex">4441753024</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">species</span><span class="kw">)</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4441753024</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span> <span class="ex">=</span> <span class="st">'cat'</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">species</span><span class="kw">)</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="ex">4441753024</span></span></code></pre></div>
<p>しかし,インデックスやスライスによる要素の変更ではなく,全体を再代入した場合には新しいアドレスが割り当てられます.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="ex">=</span> <span class="pp">[</span><span class="st">'a'</span><span class="ss">,</span><span class="st">'b'</span><span class="ss">,</span><span class="st">'c'</span><span class="pp">]</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">species</span><span class="kw">)</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="ex">4441834752</span></span></code></pre></div>
<p>同じ値を持つが異なる場所を参照するリストを作りたい場合には,<code>copy()</code>を利用します.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal <span class="ex">=</span> <span class="pp">[</span><span class="st">'cat'</span><span class="ss">,</span><span class="st">'fish'</span><span class="ss">,</span><span class="st">'pig'</span><span class="pp">]</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="ex">=</span> animal.copy<span class="er">(</span><span class="kw">)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">animal</span><span class="kw">)</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4441764160</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> id<span class="kw">(</span><span class="ex">species</span><span class="kw">)</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="ex">4441798208</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span> <span class="ex">=</span> <span class="st">'dog'</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span> <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'dog'</span><span class="ex">,</span> <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span></code></pre></div>
<p>このような挙動は今後出てくる<code>pandas</code>などの配列でも同様なので,注意が必要です.</p>
</div>
<p><code>append()</code>というメソッドを使って,リストの末尾に要素を追加することができます.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span><span class="st">'fish'</span><span class="ex">,</span><span class="st">'pig'</span><span class="ex">]</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal.append<span class="kw">(</span><span class="st">'dog'</span><span class="kw">)</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span><span class="st">'fish'</span><span class="ex">,</span><span class="st">'pig'</span><span class="ex">,</span><span class="st">'dog'</span><span class="ex">]</span></span></code></pre></div>
<p>リストの長さ(要素数)を知りたい場合には,<code>len()</code>関数を利用します.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animal</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="ex">[</span><span class="st">'cat'</span><span class="ex">,</span><span class="st">'fish'</span><span class="ex">,</span><span class="st">'pig'</span><span class="ex">,</span><span class="st">'dog'</span><span class="ex">]</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> len<span class="kw">(</span><span class="ex">animal</span><span class="kw">)</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span></span></code></pre></div>
<div class="warn">
<p><code>メソッド</code>,<code>関数</code>という言葉が説明無しに突然でてきました.
これらの違いについて理解するには段階が必要なため,後に説明します.
ここでは,変数などの後ろに<code>変数.f()</code>の形で<code>.</code>を利用してつけるものを<code>メソッド</code>,単独で<code>f()</code>のように利用するものを<code>関数</code>ということだけ覚えておきましょう.
なお,いずれも<code>()</code>の中に値や変数を書いたり書かなかったりしますが,その意味についても後ほど扱います.</p>
</div>
<p>リストはリストも要素にすることができます. このようなリストを<strong>多重リスト</strong>と呼びます.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="ex">=</span> <span class="pp">[</span><span class="ss">1,2,3</span><span class="pp">]</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="ex">=</span> <span class="pp">[</span><span class="ss">4,5,6</span><span class="pp">]</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="ex">=</span> <span class="pp">[</span><span class="ss">x,y</span><span class="pp">]</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="ex">[[1,2,3],[4,5,6]]</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z<span class="pp">[</span><span class="ss">1</span><span class="pp">]</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="ex">[4,5,6]</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z<span class="pp">[</span><span class="ss">0</span><span class="pp">][</span><span class="ss">1</span><span class="pp">]</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<p><code>xs = [[1,2,3],[4,5,6],[7,8,9]]</code> というリストを作り,以下の操作を行ってください.</p>
<ul>
<li><p><code>xs</code>の長さを求める</p></li>
<li><p>スライスを使って以下を抽出する</p>
<ul>
<li><code>[[4,5,6],[7,8,9]]</code></li>
<li><code>[[1,2,3]]</code></li>
<li><code>[[7,8,9]]</code></li>
<li><code>[8,9]</code></li>
</ul></li>
<li><p><code>[4,5,6]</code>を<code>[-4,-5,-6]</code>に更新する</p></li>
<li><p><code>1</code> を <code>-1</code>に,<code>9</code>を<code>-9</code>にする</p></li>
<li><p><code>[7,8,-9]</code>のあとに,<code>[10,11,12]</code>を追加する</p></li>
</ul>
</div>
<h3 data-number="2.7" id="タプル"><span class="header-section-number">2.7</span> タプル</h3>
<p>Pythonにはリスト以外にも複数のデータ型の組み合わせを表すデータ型が存在します. タプルは,データの組を表すデータ型であり,<code>()</code>の中に<code>,</code>で区切ってデータを入れることでリストのようにデータを格納することができます.
タプルも複数のデータをまとめることができます.</p>
<p>しかし, リストのように扱うことは推奨されません.
(後に扱う関数などで返り値を複数返したいときなど)基本的に2,3個のデータの組を扱いたい場合に利用して,3個以上のデータを扱い場合にはリストなどを使うようにしましょう.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age <span class="ex">=</span> <span class="er">(</span><span class="st">'Taro'</span><span class="ex">,10</span><span class="kw">)</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="kw">(</span><span class="st">'Taro'</span><span class="ex">,</span> 10<span class="kw">)</span></span></code></pre></div>
<p>タプルの値の取り出しには,同じ形のタプルに変数を格納することで値を取り出す<code>パターンマッチ</code>が良く利用されます.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">name,age</span><span class="kw">)</span> <span class="ex">=</span> name_and_age</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="st">'Taro'</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> age</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span></span></code></pre></div>
<p>インデックスによる値の取得も可能です.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="st">'Taro'</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age<span class="pp">[</span><span class="ss">1</span><span class="pp">]</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span></span></code></pre></div>
<p>ただし,インデックスを利用した要素の変更はできません.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age<span class="pp">[</span><span class="ss">0</span><span class="pp">]</span> <span class="ex">=</span> <span class="st">'Hanako'</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Traceback</span> <span class="er">(</span><span class="ex">most</span> recent call last<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line 1, in <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="ex">TypeError:</span> <span class="st">'tuple'</span> object does not support item assignment</span></code></pre></div>
<h3 data-number="2.8" id="辞書型"><span class="header-section-number">2.8</span> 辞書型</h3>
<p>名前とその意味, 商品と在庫数,日本語名と英語名など,特定のデータに対応する別のデータの組み合わせを沢山扱いたい場合には,<code>辞書型</code>(dict)が利用されます. 辞書型は<code>key</code>と<code>value</code>と呼ばれるデータの組み合わせからなります.</p>
<p>辞書型のデータは,<code>{key1:value1,key2:value2,...}</code>のように,<code>key</code>と<code>value</code>の組み合わせを<code>:</code>で表して,<code>{}</code>にコンマで区切るかたちで作成します.</p>
<p>例えば, 学生と学生の出席回数の組み合わせを表すデータは以下のように作成されます.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance <span class="ex">=</span> <span class="dt">{</span><span class="st">'Taro'</span><span class="dt">:10</span><span class="op">,</span><span class="st">'Hanako'</span><span class="dt">:12</span><span class="op">,</span><span class="st">'Kenta'</span><span class="dt">:9</span><span class="op">,</span><span class="st">'Shizuka'</span><span class="dt">:10}</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="ex">{</span><span class="st">'Taro'</span><span class="ex">:</span> 10, <span class="st">'Hanako'</span>: 12, <span class="st">'Kenta'</span>: 9, <span class="st">'Shizuka'</span>: 10}</span></code></pre></div>
<p><code>dict()</code>に<code>key</code>と<code>value</code>のタプルのリストを渡すことで生成する事もできます.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance <span class="ex">=</span> dict<span class="er">(</span><span class="ex">[</span><span class="er">(</span><span class="st">'Taro'</span><span class="ex">,10</span><span class="kw">)</span><span class="ex">,</span><span class="er">(</span><span class="st">'Hanako'</span><span class="ex">,12</span><span class="kw">)</span><span class="ex">,</span><span class="er">(</span><span class="st">'Kenta'</span><span class="ex">,9</span><span class="kw">)</span><span class="ex">]</span><span class="kw">)</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="ex">{</span><span class="st">'Taro'</span><span class="ex">:</span> 10, <span class="st">'Hanako'</span>: 12, <span class="st">'Kenta'</span>: 9}</span></code></pre></div>
<p>特定の<code>key</code>でそれに対応する<code>value</code>を呼び出すには,<code>key</code>をインデックスとして<code>[]</code>を利用します.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Taro'</span><span class="pp">]</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Shizuka'</span><span class="pp">]</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span></span></code></pre></div>
<p>新しい<code>key:value</code>を加える場合にも,<code>value</code>を変更する場合にも,インデックスによる代入が利用できます.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Taro'</span><span class="pp">]</span> <span class="ex">=</span> 11</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Taro'</span><span class="pp">]</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="ex">11</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Shinzi'</span><span class="pp">]</span> <span class="ex">=</span> 12</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance<span class="pp">[</span><span class="st">'Shinzi'</span><span class="pp">]</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="ex">12</span></span></code></pre></div>
<p><code>key</code>を削除するには<code>pop(消したいkey)</code>メソッドを利用します.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.pop<span class="kw">(</span><span class="st">'Hanako'</span><span class="kw">)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="ex">{</span><span class="st">'Taro'</span><span class="ex">:</span> 11, <span class="st">'Kenta'</span>: 9, <span class="st">'Shizuka'</span>: 10, <span class="st">'Shinzi'</span>: 12}</span></code></pre></div>
<p>辞書型のデータから,<code>key</code>のみ,<code>value</code>のみを抜き出すには,<code>keys()</code>,<code>values()</code>メソッドを利用します.
リストとして取得したい場合には,<code>list()</code>関数で囲みます.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.keys<span class="kw">()</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="ex">dict_keys</span><span class="er">(</span><span class="ex">[</span><span class="st">'Taro'</span><span class="ex">,</span> <span class="st">'Kenta'</span>, <span class="st">'Shizuka'</span>, <span class="st">'Shinzi'</span>]<span class="kw">)</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.values<span class="kw">()</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="ex">dict_values</span><span class="er">(</span><span class="ex">[11,</span> 9, 10, 12]<span class="kw">)</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> list<span class="kw">(</span><span class="fu">attendance.values()</span><span class="kw">)</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="ex">[11,</span> 9, 10, 12]</span></code></pre></div>
<p>これらの処理はリストを利用しても可能ですが,辞書型のほうが計算が速いため辞書型を利用するようにしましょう. プログラミングにおいては用途に応じて適切なデータ型を選択することが重要です.</p>
<div class="warn">
<p>同じような処理が可能なデータ型でも,その処理を実行するのにコンピュータが必要な計算の数や,使用するメモリの量,速度などに違いがあります.</p>
<p>この資料では扱いませんが,大規模なデータを扱う場合や,大量の計算を行うプログラムを書く際には,<code>計算量</code>を考慮して<code>アルゴリズムとデータ構造</code>を適切に設計する必要があります. 興味のある方は,調べてみましょう.</p>
</div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li><p>5種類の果物の日本語名と英語名を変換する辞書を作成し,実際に機能する様子を紹介してください.</p></li>
<li><p>上で作成した辞書にもう一つ果物を追加してください.</p></li>
</ul>
</div>
<h3 data-number="2.9" id="論理演算"><span class="header-section-number">2.9</span> 論理演算</h3>
<p>それが正しいか間違っているか判別できる文を<strong>命題</strong>といいます. 命題の結果を表すものとして真(正しい),偽(間違っている)という値を用います. 真と偽を併せて<strong>真偽値</strong>といいます.</p>
<p>例えば,<code>1は2より大きい</code>という命題は,間違っているので<strong>偽</strong>となります. <code>人間は必ず死ぬ</code>という命題は,今のところ不老不死の人間がいないので<strong>真</strong>です.</p>
<p>プログラミングではこのような命題の判断がしばしば必要となるため,それらを扱うデータ型が提供されています.</p>
<p>真偽値を表すデータ型として<code>Bool</code>があります. <code>Bool</code>は<code>True</code>(真),<code>False</code>(偽)のいずれかです.</p>
<p>Pythonには命題の判定を行う演算子として,以下のようなものが準備されています.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">記号</th>
<th style="text-align: center;">意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&gt;</code></td>
<td style="text-align: center;">より大きい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;=</code></td>
<td style="text-align: center;">以上</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&lt;</code></td>
<td style="text-align: center;">より小さい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&lt;=</code></td>
<td style="text-align: center;">以下</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>==</code></td>
<td style="text-align: center;">等しい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!=</code></td>
<td style="text-align: center;">等しくない</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>in</code></td>
<td style="text-align: center;">含む</td>
</tr>
</tbody>
</table>
<p>数値などの大小関係を調べるときには,比較演算子 <code>&gt;</code>,<code>&gt;=</code>.<code>&lt;</code>,<code>&lt;=</code>を利用します. 演算子の左右に数値を書くと,結果に応じて真偽値が帰ってきます.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="op">&gt;</span> 2</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="op">&lt;</span> 1.5</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span></code></pre></div>
<p>リストや文字列に特定の要素(文字列)が含まれているかは,<code>in</code>で判定できます.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'ab'</span> <span class="er">in</span> <span class="st">'abcd'</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="er">in</span> <span class="ex">[3,4,5]</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span></code></pre></div>
<p>値が等しいか/等しくないかを判定するには,<code>==</code>と<code>!=</code>を利用します.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 4 <span class="ex">==</span> 4</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'cat'</span> <span class="ex">!=</span> <span class="st">'cat'</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span></code></pre></div>
<p>これ以外にもPythonにはいくつかの演算が準備されていますし,自分で作ることも可能です.</p>
<p><code>True</code> や <code>False</code>などの<code>Bool</code>値は, <code>AND</code>(かつ),<code>OR</code>(または),<code>NOT</code>という演算で計算することができます(<code>XOR</code>というのもあるが省略).
PythonではAND は <code>&amp;</code>, OR は <code>|</code>, NOT は <code>not</code> という演算子が提供されています.</p>
<p>A,Bが命題だとして,<code>A &amp; B</code>は両方<code>True</code>のときに,<code>True</code>となります. <code>A | B</code>は片方どちらかが<code>True</code>のときに<code>True</code>となります.</p>
<p>例えば,</p>
<ul>
<li><p><code>1は2より大きい かつ 2は0より大きい</code> という命題は,<code>2は0より大きい</code>は正しいですが,<code>1は2より大きい</code>が間違っているので全体として,<code>False</code>です.</p></li>
<li><p><code>ネコは哺乳類である または ネコは鳥類である</code>という命題は <code>ネコは鳥類である</code>が間違っていますが全体としては<code>True</code>です.</p></li>
</ul>
<p>演算の結果は,それぞれ以下のようになります. これを真偽値表といいます. ここでは,最低限の例だけを紹介しますが,より深く理解したい人は論理学などの講義を受講しましょう.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">命題Aの値</th>
<th style="text-align: center;">Bの値</th>
<th style="text-align: center;"><code>A &amp; B</code></th>
<th style="text-align: center;"><code>A | B</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">True</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="even">
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="odd">
<td style="text-align: center;">True</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="even">
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
</tr>
</tbody>
</table>
<p>Pythonではそれぞれの命題を丸括弧で囲んで,<code>&amp;</code>,<code>|</code>演算子で論理演算を行うことができます.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">1</span> <span class="op">&gt;</span> 2<span class="kw">)</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">2</span> <span class="op">&gt;</span> 0<span class="kw">)</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">1</span> <span class="op">&gt;</span> 2<span class="kw">)</span> <span class="kw">&amp;</span> <span class="kw">(</span><span class="ex">2</span> <span class="op">&gt;</span> 0<span class="kw">)</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">1</span> <span class="op">&gt;</span> 2<span class="kw">)</span> <span class="kw">|</span> <span class="kw">(</span><span class="ex">2</span> <span class="op">&gt;</span> 0<span class="kw">)</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span></code></pre></div>
<p><code>not</code> は命題の否定を表しており <code>True</code>が<code>False</code>,<code>False</code>が<code>True</code>になります.<code>not</code>は命題の前に書きます.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">(</span><span class="ex">1</span> <span class="op">&gt;</span> 2<span class="kw">)</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="ex">False</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> not <span class="kw">(</span><span class="ex">1</span> <span class="op">&gt;</span> 2<span class="kw">)</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="ex">True</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<p>ある値が偶数かどうかは,2で割った余りが0かどうかを判定することで判定できます.
<code>x=101</code>,<code>y=202</code>として, 以下の命題の真偽をPythonで計算してください.</p>
<ul>
<li>xが偶数</li>
<li>yが偶数</li>
<li>xが偶数かつyが偶数</li>
<li>xが偶数またはyが偶数</li>
<li>x + y が奇数</li>
</ul>
</div>
</details>
<h2 data-number="3" id="ライブラリの利用"><span class="header-section-number">3</span> ライブラリの利用</h2>
<details>
<summary>
開く/閉じる
</summary>
<p>通常のPythonの学習では,基礎的な演算のあとにFor文やIF分を学びます.
しかし,この講義では通常のリストなどよりもむしろPandasとよばれるライブラリの機能を多用します.なので, 先にライブラリの利用法と,Pandasの利用法を学び,それらを事例としてFor文やIF文,関数などの基本的な構文を学習します.</p>
<h3 data-number="3.1" id="復習スクリプトの実行"><span class="header-section-number">3.1</span> (復習)スクリプトの実行</h3>
<p>これまでは,対話環境でプログラムを実行してきましたが,対話環境は複雑な処理には適しません.
これから,1行1行プログラムを記述して対話環境で実行するのではなく,複数行のプログラムをまとめて記述して一気に実行する方式に切り替えます. 複数行のプログラムを一つのファイルにまとめたものをスクリプトファイルと呼び, 書かれているプログラムをスクリプトといいます. 初回に行った<code>Hello World</code>はスクリプトを実行していました.</p>
<div class="note">
<p><strong>Pythonのスクリプト実行の方法</strong></p>
<ul>
<li><p>テキストファイルにプログラムを書く</p></li>
<li><p>ファイルの拡張子を<code>.py</code>にして保存する</p>
<ul>
<li>講義で作成したプログラムは,あとで自分が参考にできる最高の資料です.
<ul>
<li><p>あとで何をやっているのか自分が理解できるように
プログラムにはできるだけ沢山のコメントを付けましょう</p></li>
<li><p>ファイル名は,後からみて,中身が何であるかわかるよう<code>英数字</code>で名付けましょう</p>
<ul>
<li><code>a.py</code>や<code>file.py</code>,<code>課題.py</code>などはやめましょう</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Shell上でそのファイルが保存されている場所に移動する</p></li>
<li><p><code>python ファイル名</code> コマンドで実行する</p>
<ul>
<li>※ <code>python</code> は空白の後に続くプログラムを実行するためのコマンドです.</li>
<li>※ Macの人は <code>python3</code> を利用します.</li>
</ul></li>
</ul>
</div>
<div class="note">
<p><strong>演習</strong></p>
<p>第1回で行ったことを参考に,<code>Let's start the Python programming!!</code> と表示されるプログラムを作成しましょう. ファイル名などは適切に名付けてください.
まだ,今後沢山のスクリプトを書いていきますので,適切にフォルダなどを整理しましょう.</p>
</div>
<h3 data-number="3.2" id="ライブラリとは"><span class="header-section-number">3.2</span> ライブラリとは</h3>
<p>第1回の講義で説明しましたが,プログラムをまとめて他の人がプログラム内で利用できるようにしたものをライブラリといいます. Pythonは,統計,データサイエンス関連のライブラリが充実しているために,利用者が多いということでしたね.</p>
<p>Pythonは様々なライブラリを呼び出して利用するための言語として利用されている側面が大きいです.なので, 目的に応じた様々なライブラリの使用法を知って初めてPythonの力を活用できます.</p>
<p>ライブラリのより細かい概念として, <strong>モジュール(Module)</strong>と<strong>Package(Package)</strong>があります.</p>
<div class="note">
<ul>
<li><code>Module</code>
<ul>
<li>他のプログラムに読み込む(<code>import</code>)することができるスクリプトファイル</li>
</ul></li>
<li><code>Package</code>
<ul>
<li>Moduleの名前空間をドットで構造化する手段</li>
</ul></li>
<li><code>Library</code>
<ul>
<li>用途に応じてPackageをまとめたもの</li>
</ul></li>
</ul>
</div>
<p><code>import</code>や名前空間の意味は,実際に使っていきながら見ていきましょう.</p>
<h3 data-number="3.3" id="ライブラリを使ってみよう"><span class="header-section-number">3.3</span> ライブラリを使ってみよう</h3>
<p>データサイエンスは,名前の通りデータを扱いデータから何かしらの示唆を得るための学問です.
データサイエンスにおける分析は概ね以下のように推移します.</p>
<figure>
<img src="../images/data-science-flow.png" alt="データ分析の流れ" />
<figcaption aria-hidden="true">データ分析の流れ</figcaption>
</figure>
<p>それぞれの段階の処理は,基本的には特定のライブラリを利用して行います. したがって,Pythonによるデータ分析の学習では,基本的にそれぞれの段階でのライブラリの利用法を学ぶことが中心になります.それぞれのライブラリの利用法はこれから順次扱いますが,ここでは,第1段階として,データの読み込みに関するライブラリ<code>pandas</code>を事例に一般的なライブラリの使用法を体験します.</p>
<p>何かしらのデータを分析するにはプログラムにデータを読み込む必要があります. Pythonにおいてデータの読み書き,整形,編集,生成などを支援する代表的なライブラリに <code>pandas</code>があります.</p>
<p>ライブラリを利用するためには,まずライブラリを皆さんのコンピュータにインストールする必要があります.
Pythonでライブラリをインストールするには<code>pip</code>を利用します. <code>pip</code>は,Pythonのインストール時に資料の指示に従ってチェックをつけていれば,既にインストールされているはずです.Shellに<code>pip --version</code>と入力してバージョンが表示されていれば,インストールされているので確認してみましょう(Macの人は<code>pip3 --version</code>).</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> pip <span class="ex">--version</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> 24.0 from /Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pip <span class="er">(</span><span class="ex">python</span> 3.10<span class="kw">)</span></span></code></pre></div>
<p><code>pip install</code>のあとに,インストールしたいライブラリ名を入力すると,ライブラリがインストールされます. 今回は <code>pandas</code>をインストールするので<code>pip install pandas</code>と入力しましょう. 文字が沢山表示されますが, 問題ありません. 画面が止まるまで待ちましょう.</p>
<p>pandasはデータを扱うためのライブラリなので利用するには,何かしらのデータが必要です. 本格的な利用はこのあとでしますが,取り敢えず利用確認用の簡単なデータを作成しましょう.</p>
<p>データはテーブルデータの形式を取ることが多く,pandasで読み込みや書き込みができるテーブルデータとして代表的な形式に<code>CSV(Comma  Separated Values)</code>があります.</p>
<div class="warn">
<p>最近はテーブルデータの高速な処理が可能な<a href="https://pola.rs"><code>Polars</code></a>なども流行っていますが,本資料ではPandasに限定します.</p>
<p>また,<code>JSON</code>や<code>XML</code>などの他のデータ形式に関しては扱いません.</p>
</div>
<p>CSVは,テキストファイルの一種で,その名の通りコンマ(<code>,</code>)で列を区切り,改行で行を区切ることでテーブルを表現します. 標準的なCSVでは最初の1行は,データではなく,各列の中身を表すタイトルとなっており<code>Header</code>と呼びます.2行目以下のデータ部分を<code>Body</code>と呼びます.</p>
<p>Excelを開いて1行目に<code>Weight</code>,<code>Height</code>,<code>BMI</code>と記入し,それぞれの列に以下のように数値を記入しましょう.<code>BMI</code>列は空欄で構いません.</p>
<figure>
<img src="../images/pandas-csv-sample.png" alt="csv sample" />
<figcaption aria-hidden="true">csv sample</figcaption>
</figure>
<p>このファイルを<code>UTF-8</code>の<code>CSV</code>として保存します. ファイル名は<code>body_data.csv</code>としましょう. Excelでは<code>ファイルの種類</code>で<code>CSV UTF-8 (コンマ区切り)(*.csv)</code>と選択することで保存できます.</p>
<figure>
<img src="../images/excel-file-type.png" alt="excel file type" />
<figcaption aria-hidden="true">excel file type</figcaption>
</figure>
<p>このファイルを作業ディレクトリの中に作った<code>data</code>という名前のフォルダに保存します.</p>
<p>試しに,<code>body_data.csv</code>をテキストエディタで開くと,中身がコンマと改行で表現されていることが分かります.</p>
<pre class="csv"><code>Height,Weight,BMI
170,55,
180,72,
155,42,</code></pre>
<p>Sublime Textでは <code>File</code>タブの<code>Save with Encoding</code>内の<code>UTF-8 with BOM</code>で保存し,拡張子を<code>.csv</code>にすることで保存できます.</p>
<p><img src="../images/Sublime-utf-8-bom.png" /></p>
<div class="warn">
<p><strong><code>BOM(Byte Order Mark)</code>について</strong></p>
<p>Unicode(UTF-8, UTF-16など)で文章が記載されていることを示す符号をBOMといい,ファイルの最初に記載されます.
これがついていることで,ソフトウェアでデータを読み込む際に自動的に,適切なエンコーディングが選択されます.
Excelの場合は<code>CSV UTF-8 (コンマ区切り)(*.csv)</code>でBOM付きのUTF-8として保存されますが,日本語環境ではBOMがついていないCSVファイルを<code>Shift-JIS</code>で開くため,外部ファイルの読み込みから適切なエンコーディングを選ばないと文字化けします.</p>
<p>この知識は後ほどpandasを利用したCSVの保存で再度扱います.</p>
</div>
<p>このファイルを読み込んで,pandasの機能をいくつか確認するためのスクリプトを書きます.
テキストエディタで<code>pandas_test.py</code>という空のファイルを作成し,以下のように記述しましょう.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/body_data.csv'</span>)</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'Weight'</span>].mean())</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'Weight'</span>].median())</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'BMI'</span>] <span class="op">=</span> df[<span class="st">'Weight'</span>] <span class="op">/</span> (df[<span class="st">'Height'</span>]<span class="op">/</span><span class="dv">100</span>) <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre></div>
<p>このプログラムを実行すると,以下のように表示されるはずです.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> python3 pandas_test.py</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Height</span>  Weight  BMI</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span>     170      55  NaN</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span>     180      72  NaN</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span>     155      42  NaN</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="ex">56.333333333333336</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="ex">170.0</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>   <span class="ex">Height</span>  Weight        BMI</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span>     170      55  19.031142</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="ex">1</span>     180      72  22.222222</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span>     155      42  17.481790</span></code></pre></div>
<p>このプログラムで何をしているのかを簡単に見ていきましょう.</p>
<p>まず一行目の<code>import pandas as pd</code>ですが,<code>import pandas</code>によってこのプログラム内で<code>pandas</code>を利用可能にしています. しかし,<code>pandas</code>と毎回かくのは面倒なので,省略形の<code>pd</code>という名前を定義しています. Pythonでは<code>import [利用したいライブラリ名] as [省略形]</code>
の形で,ライブラリのインポートと省略形の定義を同時に行えます. pandasは<code>df</code>と省略するのが一般的です.</p>
<p>続いて2行目の <code>df = pd.read_csv('data/body_data.csv')</code>で,先ほど作成した <code>data</code>フォルダにある<code>body_data.csv</code>というファイルを読み込んでいます. <code>df =</code>で読み込んだデータに<code>df</code>という名前をつけています.</p>
<p>3行目の<code>print(df)</code>で,読み込んでdfという名前をつかたデータを表示しています. REPLでは,変数を書くだけで表示されていましたが,スクリプトでは標準出力したいものは<code>print()</code>関数を適用する必要があります.</p>
<p>4,5行目は<code>Weight</code>列の平均(<code>mean</code>)と中央値(<code>median</code>)を求めて表示しています.</p>
<p>6,7行目はもともとのデータで空だった,<code>BMI</code>列を計算し,計算結果を表示しています.</p>
<p>これらの操作の具体的な使い方や意味はこのあと細かく扱いますが,取り敢えず,pandasではこのようにして,データを読み込み,処理することができます.</p>
<h3 data-number="3.4" id="なぜexcelではだめなのか"><span class="header-section-number">3.4</span> なぜExcelではだめなのか</h3>
<p>先ほど行った簡単な表計算であれば,Excelでも簡単に同じことができます. では,なぜややこしいPythonなどを学んでプログラムで同じことをするのでしょうか.</p>
<p>まず,第1にPythonを利用することで</p>
<p><strong>機械学習や高度な検定など,Excelではできない高度な処理が可能</strong>になります.</p>
<p>先ほど行った簡単な集計であればExcelでも可能ですが,後ほど行う機械学習や自然言語処理などの高度な処理はExcelでは実行が困難です. また, データに関してもExcelでは最大で1,048,576行程度のデータしか扱うことができませんが,(この講義では扱いませんが)データサイエンスでは,それを超えた大容量のデータを扱うことがしばしばあります.</p>
<p>第2の理由として,</p>
<p><strong>Excelが複数の連続した複雑な処理には向いていない</strong>ということが挙げられます.</p>
<p>Excelでは,何か作業をしても<strong>過程が記録されず,結果だけが残ります.</strong> また,折角複雑な処理を実行しても,異なるデータなどで同じ処理を行う場合にはゼロから繰り返す必要があり,<strong>処理自体を再利用できません</strong>(VBAやマクロなどはありますが,それらは結局プログラミングをしているので同じです.)</p>
<p>Excelのこのような特性から,Excelによる複雑な処理の実行は,人間の作業に依存する傾向が強く,ミスの原因となります.</p>
<p>このことについて,以下のデータを事例にもう少し具体的に意味を見ていきましょう.</p>
<p><img src="../images/excel-procedure1.png" /></p>
<p>例としてこのデータに対して以下の3つの処理をすることを考えます.</p>
<div class="note">
<pre><code>1. いらない部分を削除する
2. 右側に行和を表す列を足す
3. とある列の値が一定以下のデータを抜き出す</code></pre>
</div>
<p><img src="../images/excel-procedure2.png" /></p>
<p>この場合,EXCELでは最後の抜き出したデータだけが残り,中間の段階の処理も,過程も記録されません.
したがって,</p>
<div class="note">
<ol type="1">
<li>途中で間違っていても気づけない,チェックできない</li>
<li>何をしたのかを他の場所にメモして置かなければ分からない,メモも難しい</li>
<li>別のデータを使う場合同じ処理をもう一度する必要がある</li>
</ol>
</div>
<p>などの問題がよく起こります.</p>
<p>また,削除の作業などは(これくらいなら自動でもできますが)一つ一つ消していく必要があり大きなデータ(数万行とか)では非常に手間がかかります.</p>
<p>Excelはこのように,処理が人間の記憶や,正確さに依存しています. その結果,ミスの原因となっています.</p>
<div class="note">
<p>例えば, こちらの記事(<a href="https://www.teampay.co/blog/biggest-excel-mistakes-of-all-time">The 7 Biggest Excel Mistakes of All Time</a>)では,過去にExcelの操作ミスで起きた大規模なミスの事例が紹介されています.</p>
<ul>
<li>2008年 バークレイズ・キャピタル</li>
</ul>
<p>隠していたセルがPDF板では表示されていたことによる数百万ドルの損失が発生.</p>
<ul>
<li>2012年 ロンドン オリンピック</li>
</ul>
<p>作業員のタイプミスで,10万枚のチケットが払い戻し</p>
<ul>
<li>2012 JPモルガン</li>
</ul>
<p>Excelのコピペミスにより60億ドルの損失</p>
<p>ちなみにこの記事には載っていませんが,2019年に話題になった,厚生労働省の毎月勤労統計における不正問題もExcelのミスが原因の一つです.</p>
</div>
<p>一方プログラムでは,これらの問題が解決可能です.</p>
<p>先程のExcelの作業と同じ例で考えてみましょう.
以下のコードは先程のExcelで行った作業を実行しています.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co">#データの読み込み</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'sample.csv'</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co">#いらない部分を削除する</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>df.dropna(axis<span class="op">=</span><span class="st">'index'</span>,how<span class="op">=</span><span class="st">'any'</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="co">#右側に行和を追加する</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'sum'</span>] <span class="op">=</span> df.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="co">#data3が50以下の行を消す</span></span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">'data3'</span>]<span class="op">&gt;</span><span class="dv">50</span>]</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a><span class="co">#確認</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code></pre></div>
<p>実行結果は当然Excelで行ったものと同じです.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;</span> python <span class="ex">sample.py</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>    <span class="ex">data1</span>   data2   data3    sum</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="ex">3</span>    86.0      75    67.0  228.0</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="ex">4</span>    66.0      92    90.0  248.0</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="ex">7</span>     6.0      66    93.0  165.0</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="ex">10</span>   27.0      32    52.0  111.0</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="ex">18</span>   27.0      61    91.0  179.0</span></code></pre></div>
<p>しかし, Excelと異なりこのプログラムを実行しても<strong>元データは変わっていない</strong>ため,元の状態にいつでも戻ることが可能です. 更に何を行ったかの<strong>処理がプログラムとして残っている</strong>ため,途中で間違いがないかのチェックや修正が可能です.
(本講義では扱いませんが, 実際にはプログラムでもミスは絶対におきます.そのためテストを実施するのですが,人間の行うチェックリストなどのテストよりもプログラムで行うテストの方が信頼性が高いのも利点です.)</p>
<p>また,
<strong>プログラムがそのまま作業メモ</strong>になっているので,他人に何を行ったかの説明が可能です. 加えて,このプログラムを再利用することで,<strong>異なるデータで同じ作業をする場合に再利用することが可能</strong>です. また,実際の処理はすべてプログラムが自動で行うため<strong>作業の手間がデータの容量にかかわらず一定</strong>です.</p>
<p>確かに,これまでに皆さんが講義で習ってきたような内容であれば,Excelのほうが学習コストが低く手軽に行えます. しかし,今後行うような統計処理やデータサイエンスなど,処理が複雑になればなるほど,プログラムで処理するメリットが大きくなります.</p>
</details>
<h2 data-number="4" id="データの取得と編集-執筆中"><span class="header-section-number">4</span> データの取得と編集 (執筆中)</h2>
<details>
<summary>
開く/閉じる
</summary>
<p>これからデータをプログラム上で扱うにあたって,まずはデータについて考えてみましょう.</p>
<p>データは,基本的に誰かが収集・作成したものです. 自然科学においては,<strong>実験</strong>によってデータを収集し,人文・社会科学では,<strong>調査</strong>によってデータが集められます. データの作成はそれ自体でそれぞれ,<strong>実験計画法</strong>,<strong>社会調査法</strong>といった学問分野になっています.</p>
<p>データサイエンスは,データを利用して行う学問でセウが,データを収集・作成するのは専門知識,技能,時間,お金などが必要であり,データの作成自体が大きな仕事です.</p>
<p>データを自分で集めるには大変な手間がかかるので, 研究機関や,行政,大学,調査会社など他者が集めて公開しているデータを利用するのも一つの手段です. この講義では, 基本的に公開されているデータを利用して, 学習,研究を行います.</p>
<p>実験や調査によって集められたデータを<strong>原データ</strong>といい,調査によって集められた個別の調査票などを<strong>個票</strong>といいます.</p>
<p>原データに統計処理を加えてまとめたものを,<strong>統計資料</strong>あるいは<strong>調査結果</strong>などと呼びます.もともと<strong>統計(statistics)</strong>という言葉は,(国家の状況に関して)
集められた原データを編集してわかりやすく加工することを意味していました. データサイエンスではしばしば原データが利用されますが,公開されているデータはこれらの統計資料である場合が多く,原データを利用するのは困難な場合が多いです.</p>
<p>統計資料に更に加工を加えたものを,<strong>二次統計</strong>や<strong>加工統計</strong>と呼びます.</p>
<p>例えば, 国税調査によって個票が収集され,統計処理を加えた統計資料が公開され, それを更に複数の統計と併せて加工することで,国民経済計算などの加工統計が作成されます.</p>
<figure>
<img src="../images/statistical-data-flow.png" alt="データの作られ方" />
<figcaption aria-hidden="true">データの作られ方</figcaption>
</figure>
<h3 data-number="4.1" id="データの尺度"><span class="header-section-number">4.1</span> データの尺度</h3>
<p>データには様々な種類があり,種類ごとに利用可能な統計やデータサイエンスの手法が異なります.したがって,今後データを分析するにあたって,大まかなデータの区分を知っておく必要があります.</p>
<p>データの区分として,一番大きいものに <strong>量的データ(quantitative data)</strong>,<strong>質的データ(qualitative data)</strong>があります. 質的データはカテゴリーデータなどとも呼ばれます.</p>
<div class="warn">
<p>このどちらにも当てはまらないような,画像,音声,文字データなどの<strong>非構造データ</strong>もありますが,それらはそれぞれ個別の対処手法があります.</p>
<p>この講義では後半で文字データを扱う自然言語処理について扱いますが,しばらくはこれらに関しては無視して,量的データと質的データを扱います.</p>
</div>
<div class="note">
<ul>
<li>量的データ</li>
</ul>
<p>数量的なデータであり,データを数直線上の位置で表現できます.</p>
<p>例:</p>
<pre><code>- 年齢(5歳,10歳,100歳)
- 身長(150cm,170cm,200cm)
- 年収(200万円,500万円,1億円)

など基本的には,何かしらの**単位**で計量されます.</code></pre>
<hr />
<ul>
<li>質的データ</li>
</ul>
<p>あらかじめ定められたカテゴリーのいずれかに属する値を持つデータです.</p>
<p>例:</p>
<pre><code>- 性別(F or M)
- 犬の種類(ゴールデンレトリバー, 柴犬, プードル,など)
- 天気(晴れ,雨,曇など)
- 満足度(とても満足, まぁ満足, どちらでもない,など)</code></pre>
</div>
<p>質的データと量的データは更に細かい区分として<strong>尺度(scale)</strong>に分解されます.
それぞれは,｢比較が可能か｣,｢和差積商｣の計算が可能かどうかという観点で定義されます.</p>
<div class="note">
<ul>
<li>質的データ</li>
</ul>
<hr />
<p><strong>名義尺度(nominal scale)</strong></p>
<p>質的データの中で区分にしか意味がなく順序が定義されていないもの.</p>
<pre><code>- 例:氏名,性別,種類,など</code></pre>
<p>和差積商のどれも定義されない.</p>
<pre><code>- 例:青木 + 赤木 = 紫木 のような計算はできない.
- 青木は赤木よりも良い,大きい,などの比較もできない</code></pre>
<hr />
<p><strong>順序尺度(ordinal scale)</strong></p>
<p>質的データの中で順序が定義されているもの.</p>
<pre><code>- 例: 満足度,成績区分(S,A,B,...)など</code></pre>
<p>和差積商のどれも定義されないが比較が可能</p>
<pre><code>- 例: ｢満足｣は｢不満足｣よりも満足度が高いが,
- 普通 + 普通 = 満足 のような計算はできない.</code></pre>
<hr />
<ul>
<li>量的データ</li>
</ul>
<hr />
<p><strong>間隔尺度(interval scale)</strong></p>
<p>量的データの中で,間隔は定義されているが,比率が定義されていないもの.</p>
<pre><code>- 例: 時刻,日付,IQ,気温,西暦,etc</code></pre>
<p>足し算引き算はできるが,掛け算割り算ができない.</p>
<pre><code>- 1月1日 + 364日 = 12月31日 ですが,
- 1月1日 * 2 = 2月2日 のような計算は定義されていません.</code></pre>
<hr />
<p><strong>比率尺度(ratio scale)</strong></p>
<p>量的データの中で,比率が定義されているもの.</p>
<pre><code>- 例: 長さ,速度,重さ,面積など</code></pre>
<p>和差積商すべて計算できます.</p>
<pre><code>- 10Kg + 10Kg = 20Kg
- 10Kg * 2    = 20Kg</code></pre>
</div>
<p>これらの区分は今後データの処理手法を選択する際に使用するので,
データがでてきたら尺度は何かを判断するようにしましょう.</p>
<div class="note">
<p><strong>演習問題</strong></p>
<p>以下のデータの尺度を判断し,なぜそのように判断できるかを説明してください.</p>
<ol type="1">
<li><p>ペットの種類 (イヌ,ネコ,鳥,魚,爬虫類,その他から選択)</p></li>
<li><p>偏差値</p></li>
<li><p>電話番号</p></li>
<li><p>一週間に読んだ本のページ数</p></li>
</ol>
</div>
<h3 data-number="4.2" id="データの種類"><span class="header-section-number">4.2</span> データの種類</h3>
<p>これまでは一つの種類の値の区分に関して,説明してきましたが,データは複数の値の組み合わせで表現され,<strong>観測対象(ケース)</strong>別の<strong>観測項目(変数)</strong>の<strong>テーブルデータ</strong>として表現される場合が多いです.</p>
<figure>
<img src="../images/case-and-variable.png" alt="観測対象と観測項目" />
<figcaption aria-hidden="true">観測対象と観測項目</figcaption>
</figure>
<p>データの観測項目の数のことを<strong>次元</strong>と呼び, 1観測項目のデータを<strong>1次元データ</strong>,2観測項目以上のデータを<strong>多次元データ</strong>と呼びます.</p>
<figure>
<img src="../images/data-dimention.png" alt="データの次元" />
<figcaption aria-hidden="true">データの次元</figcaption>
</figure>
<p>また,観測項目や観測対象の組み合わせによって,特別に呼称され,それぞれ独自の分析手法が存在するデータもあります(時系列データと時系列解析,パネルデータと,パネルデータ分析など)</p>
<p><img src="../images/data-types.png" /></p>
<p>上の時系列データは,特定の時間単位で集計,区分されたデータを指しますが,データの発生時刻が記録されたデータを<strong>点過程データ</strong>と呼びます. 点過程データを日毎,月ごとなどで集計することで時系列データが作成されます.</p>
<h3 data-number="4.3" id="データの取得と編集"><span class="header-section-number">4.3</span> データの取得と編集</h3>
<p>先に述べたように,データは自分で集めることもできますが,手間,時間,お金がかかるため,目的に応じて他人の集めたデータを利用することも一般的です.</p>
<p>現在では,無料で利用可能なデータも多数あり,この講義ではそれらのデータを利用します.</p>
<div class="warn">
<p>後ほど自分で選んだ研究テーマによっては自分でデータを収集することも可能です.
過去のこの講義でも, HPの視線移動データ,アンケートデータ,ヒットチャートの音楽の特徴量を表すデータ
などを自分で作った事例もあります.</p>
<p>それらに関しては,個々の研究計画に応じて必要であれば補足的に講義内で扱います.</p>
</div>
<p>無料で誰でも利用可能なデータの代表として,<strong>公的統計</strong>があります. 公的統計は,国や地方自治体の作成する統計情報であり,政策立案と評価のための基礎資料として利用されており, 作成過程なども含めて一般に公開されているものが多数あります. プライバシーや個人情報保護の観点から個票は公開されていない場合が大半ですが,研究目的であれば申請して利用することも可能です.しかし,通常データが手元に来るまでに1年程度時間を要するのでこの講義では扱いません.</p>
<p>日本の統計情報を活用するには,“日本の統計が閲覧できる政府統計ポータルサイト”<a href="https://www.e-stat.go.jp"><code>e-stat</code></a>があります. e-statでは日本の各種公的統計の情報を統計別,分野別,地域別,時系列などで取得することができます.</p>
<p><img src="../images/e-stat-screenshot1.png" alt="e-stat screenshot1" />
<img src="../images/e-stat-screenshot2.png" alt="e-stat screenshot2" /></p>
<p>日本以外のデータに関しては,各国の統計サイトに直接アクセスするか,あるいは国連による各種子交際期間の統計の横断検索サイト<a href="https://data.un.org"><code>UNData</code></a>などを利用することで取得可能です.</p>
<figure>
<img src="../images/UNData-screenshot.png" alt="UNData" />
<figcaption aria-hidden="true">UNData</figcaption>
</figure>
<p>各国の公的統計は通常数量的なデータを扱っていますが,大学の講義や研究などで欲利用される質的データとして,<a href="https://www.worldvaluessurvey.org/wvs.jsp"><code>World Value Survey</code></a>があります. 世界各国の価値観に関する調査のパネルデータを提供しており, ｢人生において大切にするもの｣｢男女平等意識｣ などの調査結果が利用できます.</p>
<p>その他にも各種研究機関や企業が提供するデータも利用可能です.</p>
<p>統計ではありませんが, <a href="https://disclosure2.edinet-fsa.go.jp/WEEK0010.aspx"><code>EDINET</code></a>のWEB APIを利用して有価証券報告書のデータを取得する,Wikipediaのテキストデータを自然言語処理してデータを作成するなどもこの講義における過去の研究事例があります.</p>
<p>これらに関しては後ほど, Webページから自動でデータを取得する<code>Webスクレイピング</code>やTwitterなどのSNSの提供する<code>API</code>を利用してデータを取得する方法も扱います.</p>
<p>Webから取得可能な情報以外にも, 特定の組織に直接交渉してデータを活用することも可能です. この講義では千葉商科大学の授業データや,電力消費データを提供してもらい分析した事例もあります.</p>
<h3 data-number="4.4" id="e-statを使ってみよう"><span class="header-section-number">4.4</span> e-statを使ってみよう</h3>
<p>BOM付きでの保存 <code>utf-8-sig</code></p>
<p>例えば連続した数値のようなデータを扱うために,先に習ったリストを利用するのはあまり適切ではありません. 大きなテーブル型のデータを高速に利用するためにpandasの提供するデータ型として,<code>DataFrame</code>があります.</p>
</details>
<h2 data-number="5" id="pythonの基本構文執筆中"><span class="header-section-number">5</span> Pythonの基本構文(執筆中)</h2>
<details>
<summary>
開く/閉じる
</summary>
<p>データを適切に処理するためには,これまで扱ったpandasの技法だけでは足りません.ライブラリに含まれていない処理をPythonで自分で記述する必要があります.</p>
<p>Pythonで処理を記述するためにはそのための<strong>構文</strong>を学習する必要があります.</p>
</details>
<h2 data-number="6" id="処理とアルゴリズム執筆中"><span class="header-section-number">6</span> 処理とアルゴリズム(執筆中)</h2>
<details>
<summary>
開く/閉じる
</summary>
<h3 data-number="6.1" id="関数-執筆中"><span class="header-section-number">6.1</span> 関数 (執筆中)</h3>
<p>平均値には,用途に応じて,算術平均,幾何平均,調和平均などがあります.
𝑛個の観測値 𝑥_1, 𝑥_2, …, 𝑥_𝑛があるとき
算術平均: 𝑥 ̅ =1/𝑛 (𝑥_1+ …+𝑥_𝑛 )</p>
<p>幾何平均: 𝑥_G=√(𝑛&amp;𝑥_1∙𝑥_2∙ …∙𝑥_𝑛 )</p>
<p>調和平均 :𝑥_H=𝑛/(1/𝑥_1 +…+1/𝑥_𝑛 )</p>
<p>それぞれの平均値の用途を調べてください.
3個程度の変数を作成し,それぞれの算術平均,幾何平均,調和平均を計算してください,</p>
<p>For文のところでリスト内包表記</p>
</details>
<h2 data-number="7" id="データの可視化"><span class="header-section-number">7</span> データの可視化</h2>
<details>
<summary>
開く/閉じる
</summary>
</details>
<h2 data-number="8" id="一般化線形モデル執筆中"><span class="header-section-number">8</span> 一般化線形モデル(執筆中)</h2>
<details>
<summary>
開く/閉じる
</summary>
</details>
<p>yakagika</p>



    <div style="clear: both"></div>

    <div id="footer">
        Site proudly generated by
        <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
    </div>
</div>

        <!-- GUID -->
        <div style="display: none">ce0f13b2-4a83-4c1c-b2b9-b6d18f4ee6d2</div>
        
        <!-- KaTeX JavaScript and auto-render extension -->
        <script>
          document.addEventListener("DOMContentLoaded", function() {
            renderMathInElement(document.body, {
              delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\[", right: "\]", display: true},
                {left: "$", right: "$", display: false} // インライン数式用のデリミタを追加
              ]
            });
          });
        </script>
        
    </body>
</html>
