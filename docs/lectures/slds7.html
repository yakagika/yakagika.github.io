<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yakagika - 特別講義DS Ch7 データサイエンスを始めよう</title>

    <!-- Stylesheets. -->
    <link rel="stylesheet" type="text/css" href="../style.css?v=0">

    <!-- RSS. -->
    <link rel="alternate" type="application/rss+xml" title="yakagika" href="https://yakagika.github.io/rss.xml">

    <!-- Metadata. -->

    <meta name="keywords" content="yakagika Haskell ExchangeAlgebra">
    <meta name="description" content="Personal home page and blog of yakagika.">

    
    <!-- KaTeXのスタイルシートとJavaScriptのリンクを動的に挿入 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css" integrity="sha384-wcIxkf4k558AjM3Yz3BBFQUbk/zgIYC2R0QpeeYb+TwlBVMrlgLqwRjRtGZiK7ww" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js" integrity="sha384-hIoBPJpTUs74ddyc4bFZSM1TVlQDA60VBbJS0oA934VSz82sBx1X7kSx2ATBDIyd" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    <style>
      .katex-display {
        display: block;
        margin: 1em 0;
        text-align: center;
      }
      .katex .frac {
        vertical-align: baseline;
        -webkit-vertical-align: baseline;
      }
      .katex .sqrt {
        vertical-align: baseline;
        -webkit-vertical-align: baseline;
      }
      .katex .strut {
        height: 1em;
        -webkit-height: 1em;
      }
      .katex .base {
        font-family: 'KaTeX_Main', 'Arial', sans-serif;
      }
      @media screen and (-webkit-min-device-pixel-ratio:0) {
        .katex {
          line-height: normal !important;
        }
      }
      @media not all and (min-resolution: .001dpcm) {
        @supports (-webkit-appearance:none) {
          .katex {
            line-height: normal !important;
          }
        }
      }
    </style>
    

    
      <meta property="og:description" content="資料" />
    
  </head>

  <body>

    <!-- ハンバーガーメニューのボタン（小画面時に表示） -->
     <!-- ヘッダーを上部に固定し、その中にハンバーガーを配置 -->
    <header class="site-header">
      <div class="site-title">
        <a href="../">
          <img src="../favicon.ico" alt="Home" style="width: 32px; height: 32px;">
        </a>
      </div>
      <div class="hamburger" onclick="toggleMenu()">☰</div>
    </header>

    <!-- ナビゲーションに drawer-menu クラスを付与 -->
    <div id="navigation" class="drawer-menu">
      <h1>Contents</h1>
      <a href="../">Home</a>
      <a href="../posts.html">Blog</a>
      <a href="../lectures.html">Lecture</a>
      <a href="../research.html">Research</a>
      <a href="../contact.html">Contact</a>
      <!-- <a href="/cv.html">CV</a> -->

      <h1>Links</h1>
      <a href="http://github.com/yakagika" target="_blank" rel="noopener">GitHub</a>
      <a href="https://researchmap.jp/k-akagi" target="_blank" rel="noopener">researchmap</a>

      
      <div id="lecture-toc">
        <h1>Index</h1>
        <!-- The TOC will be generated here by JavaScript -->
      </div>
      
    </div>

    <div id="content">
    <h1>特別講義DS Ch7 データサイエンスを始めよう</h1>
<div class="soft">
    資料<br />
    Published on 2024-03-29 under the tag <a title="All pages tagged 'datascience'." href="../tags/datascience.html">datascience</a>, <a title="All pages tagged 'statistics'." href="../tags/statistics.html">statistics</a>, <a title="All pages tagged 'python'." href="../tags/python.html">python</a>
</div>

<!-- 前後の章へのナビゲーション -->
<div class="chapter-navigation">
    <nav>
        
            <a class="nav-link prev" href="slds6.html">← Previous Chapter</a>
        
        
            <a class="nav-link next" href="slds8.html">Next Chapter →</a>
        
    </nav>
</div>

<br>

<h2 id="データサイエンスを始めよう-研究計画の建て方">データサイエンスを始めよう 研究計画の建て方</h2>
<p>ライブラリの章で説明したように,データサイエンスの作業は基本的に以下の順序で進みます.</p>
<figure>
<img src="../images/data-science-flow.png" alt="データ分析の流れ" />
<figcaption aria-hidden="true">データ分析の流れ</figcaption>
</figure>
<p>皆さんは, ここまでの講義において, データを取得し,前処理を実施する方法を学びました. データサイエンスは, 文字通りデータを利用する学問ですが,データが使える,編集できる状態にやっとなったわけです.</p>
<p>ここから,順に可視化, 数値化, 分析に進みますが,それと並行して,皆さんの研究計画を立てていきましょう. できれば,研究計画に沿ったデータを取得し, その可視化,数値化,分析を学習しながら自分のデータに適用していくことを目指します.</p>
<h2 id="モデルとデータ執筆中">モデルとデータ(執筆中)</h2>
<p>統計学やデータサイエンスはいずれもデータを利用しますが,データを利用して得たいものは何でしょうか. 統計学や,データサイエンスは,世界に何かしらの<strong>構造(モデル)</strong>が存在するという<strong>仮定</strong>をおいて,情報を利用してその構造を明らかにすることを目的としています.</p>
<ul>
<li><p>星の動きは特定のルールに従っている</p></li>
<li><p>コインを投げて表が出るか,裏が出るかは,コインの構造や投げ方で決まる</p></li>
</ul>
<p>社会科学では,そのような構造がない,あるいは変化する,作るなどの立場もありますが,ここでは深くは扱いません.</p>
<p>しかし, 世の中の何かしらの対象の動きや現象を決める構造はどのようにすれば明らかになるのでしょうか. 私達は,情報を解釈することでお野中の何かしらの現象の背景にモデルを見出します. 単純な法則であれば,目で見て,耳で聞いて,触ってという五感によってモデルを発見しますが, そのようなものも,視覚,聴覚,触覚などの情報といえます. 自然の情報は複雑すぎるためにそのような情報全ては利用できません, 私達は<strong>データ</strong>と言う形で情報を抽出し,利用可能な形態にまとめます. 情報をそのまま眺めていても,まだ人間には複雑過ぎます,そこで,統計やデータサイエンスの技法を用いてそれらの情報を何らかの基準でまとめて,理解可能な形,すなわち<strong>モデル</strong>に変形します.</p>
<figure>
<img src="../images/info-to-model.png" alt="情報の抽出" />
<figcaption aria-hidden="true">情報の抽出</figcaption>
</figure>
<div class="warn">
<p>統計におけるモデルの話(あとで載せる予定)</p>
</div>
<p>この講義はデータサイエンスを扱うので, <strong>データからデータを生み出した世界の背景にある構造を明らかにする</strong>ことを目指します. なので, これから皆さんに立ててもらう研究テーマを決めるには,<strong>自分が明らかにしたい構造</strong>を決めて貰う必要があります.</p>
<div class="note">
<p>過去のこの講義における研究テーマでは,</p>
<ul>
<li><h3 id="大学の学生の成績が決定する構造とは"><strong>大学の学生の成績が決定する構造とは?</strong></h3>
<p>大学の学習データを用いたカテゴリーデータ解析によって, 授業形態別に良い成績を取る学生とそうでない学生の特徴を明らかにしました.</p></li>
<li><h3 id="ヒット曲を生み出す構造は"><strong>ヒット曲を生み出す構造は?</strong></h3>
<p>過去のヒット曲データや歌詞を利用したクラスタリングによって, 時代ごとのヒット曲の変遷と,ヒット曲になりやすい曲の特徴を明らかにしました.</p></li>
<li><h3 id="大学の電力消費を決めている構造は"><strong>大学の電力消費を決めている構造は?</strong></h3>
<p>大学の棟別の電力データを利用した時系列解析によって,大学の電力消費に影響の大きい要素を明らかにしました.</p></li>
<li><h3 id="国ごとのlgbtqに関する言説を決める要因は"><strong>国ごとのLGBTQに関する言説を決める要因は?</strong></h3>
<p>言語毎のLGBTQに関するWikipediaの記事の自然言語解析結果と,世界LGBTQ需要度ランキングの関係性を明らかにしました.</p></li>
<li><h3 id="大学生のメンタルヘルスを決める構造は"><strong>大学生のメンタルヘルスを決める構造は?</strong></h3>
<p>アンケート調査を利用した共分散構造分析によって,大学生の大学生活の様子とメンタルヘルスの関係を明らかにしました.</p></li>
</ul>
<p>などなど,それぞれが知りたい,何かの現象を生み出す構造を明らかにする研究を実施しました.</p>
<p>皆さんが研究テーマを決めるにあたって,必要となる第一歩は,<strong>何の</strong>,<strong>何を決める</strong>構造が知りたいのかを決めることです.</p>
</div>
<p>ところで,<strong>構造を明らかにする</strong>と言ってもどのようにするのでしょうか.</p>
<p>これから学ぶ様々な統計,データサイエンスの手法によって,明らかにすることができる構造は異なります.</p>
<div class="note">
<p>例えば,</p>
<ul>
<li><h3 id="関係がある-相関"><strong>関係がある → 相関</strong></h3>
<p>SDGsに取り組む企業は, 生産性が高い傾向がある
成績が良い学生は, 勉強時間が長い傾向がある
ただし, 傾向があるだけで, 勉強を沢山すれば,成績が伸びるという説明(因果関係)はできない</p></li>
<li><h3 id="違いがある-検定"><strong>違いがある → 検定</strong></h3>
<p>オンデマンド授業の方が, 対面授業よりも学生の成績が高い</p></li>
<li><h3 id="モデルで説明できる予測できる-多変量解析-統計モデリング回帰など"><strong>モデルで説明できる(予測できる) → 多変量解析, 統計モデリング(回帰など)</strong></h3>
<p>生産性がX高まると,SDGsへの取り組みの量がY増える</p></li>
<li><h3 id="区別要約できる-クラスタリング次元削減"><strong>区別/要約できる → クラスタリング,次元削減</strong></h3>
<p>流行りの音楽は,5つのグループに区別できる
流行りの音楽の特徴をまとめると,XやYである.</p></li>
</ul>
<p>といった手法があります. 自分が,対象の何を知りたいのかを明らかにすることで,使用する手法は異なります.</p>
</div>
<p>この講義では, 分析手法を扱う章でこれらの手法を扱います. 時間の都合上すべてを詳細に扱うことはできませんが,自分の知りたい対象に使える手法1つか2つだけを選んで,それを利用できるようにしていきましょう.</p>
<h3 id="手法の決め方">手法の決め方</h3>
<p>統計やデータサイエンスは非常に広い学問なので,その学習では様々な手法を断片的に学習し, その後必要となる特定の手法を深く学ぶというのが一般的です. では,必要となる手法はどのように決めるのでしょうか.</p>
<p>手法は,目的とデータによって決まります. まず,目的(何が知りたいか)が決まり,利用できるデータが決まったあとに,使える手法(何が言えるか)が決まります. これは目的が先にあるパターンですが,データが先,使いたい手法が先などで研究計画が決まる場合もあります.</p>
<figure>
<img src="../images/purpose_method_data.png" alt="目的,手法,データ" />
<figcaption aria-hidden="true">目的,手法,データ</figcaption>
</figure>
<div class="warn">
<ul>
<li><h3 id="harkingについて"><strong>HARKing</strong>について</h3></li>
</ul>
<p>この講義はあくまで,研究を通じてデータサイエンスの手法を学習することを目指しているため, 以下の様に,手法やデータ優先で研究計画を立てることも認めていますが,研究の世界では, データが有り,何かしらの手法で分析した後に,その結果を元々知りたかったかのように報告することは<a href="http://journals.sagepub.com/doi/10.1207/s15327957pspr0203_4"><strong>HARKing</strong></a>と呼ばれる研究不正の一種とみなされる場合があります.</p>
<p>データ優位の分析は,データサイエンス分野や,観察研究と呼ばれる分野でしばしば行われていますし,特定の手法が利用可能な分野やデータを選択することは特定の手法の学習のためには有用です.</p>
<p>しかし,<strong>統計的仮説検定</strong>などの統計的な仮説を前提とする分野では,望ましい態度ではないとされています.</p>
<p>卒業研究などで,研究をする場合には,指導教官の指導方針に従って,研究計画を立てるようにしましょう.</p>
</div>
<div class="note">
<ul>
<li><h3 id="目的から"><strong>目的から</strong></h3>
<ul>
<li><p>この構造を明らかにしたい.</p></li>
<li><p>→ この構造から生じたデータを集める → このデータを使って構造を表す手法を選ぶ</p></li>
<li><p>→ この手法で明らかになる →この手法が使えるデータを集める</p></li>
</ul></li>
<li><h3 id="データから"><strong>データから</strong></h3>
<ul>
<li><p>このデータを分析したい</p></li>
<li><p>→ このデータを分析できる手法を選ぶ → この手法とデータから明らかになることを考える</p></li>
<li><p>→ このデータから明らかにしたい構造を考える → データから構造を明らかにする手法を考える</p></li>
</ul></li>
<li><h3 id="手法から"><strong>手法から</strong></h3>
<ul>
<li><p>この手法を使いたい,作りたい</p></li>
<li><p>→ この手法で何が明らかになるのかを決める → この手法が使えるデータを集める</p></li>
<li><p>→この手法が使えるデータを集める → この手法とデータから明らかになることを考える</p></li>
</ul></li>
</ul>
</div>
<h3 id="研究計画を建てよう">研究計画を建てよう</h3>
<p><strong>目的,データ,手法</strong>いずれかを決めましょう.</p>
<div class="note">
<ul>
<li><h3 id="目的の決め方"><strong>目的の決め方</strong></h3>
<ul>
<li><p>自分の知りたい構造を沢山挙げる</p></li>
<li><p>その構造の仮説を立てる</p>
<p>例: Twitterでバズる方法には規則があるかもしれない?, 少子高齢化には背景に構造があるかもしれない?</p></li>
<li><p>→ すでに明らかになっていないか,本,論文を探す(先行研究).</p>
<p>何が分かっていて何が分かっていないのか?</p></li>
<li><p>大変なところ: アイデア勝負(創造性), 先行研究を調べるのが大変</p></li>
</ul></li>
<li><h3 id="手法の決め方-1"><strong>手法の決め方</strong></h3>
<ul>
<li><p>沢山の手法の原理/使い方を学ぶ</p></li>
<li><p>興味のある,自分で使えるようになりたい手法を選ぶ</p>
<p>例:兎に角テキスト解析してみたいぜ!, 取り敢えず統計モデルっていうものを作ってみたいぜ!</p></li>
<li><p>→ その手法について学習して, 使えるようにする.</p>
<p>どんな原理で,何が明らかになるもので,どのように使うのか?</p></li>
<li><p>大変なところ: 手法は難しい,沢山ありすぎる,数学とかプログラミングが必要</p></li>
</ul></li>
<li><h3 id="データの決め方"><strong>データの決め方</strong></h3>
<ul>
<li><p>様々なデータを探す/自分でデータを作ってみる(実験,調査)</p></li>
<li><p>→ データの特徴を分析(記述統計学),設計する(実験計画)</p>
<p>例: 取り敢えずYoutubeの視聴データが面白そう!, 大学の教育のデータから何が言えるかな?, アンケート調査とかしてみたい!</p></li>
<li><p>大変なところ: 実験や調査は手間がかかる. データの特徴を調べないといけない.</p></li>
</ul></li>
</ul>
<p>この3つをそれぞれ,自分の興味のあるものを考えて見よう.
最低3アイデアを考えてみましょう.(目的1つで3つでも, それぞれ1つずつでもOK)</p>
</div>
<p>どれか1つ(目的/手法/データ)が決まったら,残り2つを順番に探してみましょう.
しかし, 実際に行ってみると,途中でうまくいかないことが大半です.</p>
<div class="note">
<ul>
<li><h3 id="目的も手法も決まったけどデータがない"><strong>目的も手法も決まったけどデータがない!</strong></h3>
<ul>
<li>千葉商科大学生の親の所得と成績について,回帰分析したい!</li>
</ul>
<p>→ けどそんなデータはない</p>
<p>→ アンケート調査する?/変更する</p></li>
<li><h3 id="データも手法も決まったけど出てくる構造がすでに知られているつまらない"><strong>データも手法も決まったけど,出てくる構造がすでに知られている/つまらない</strong></h3>
<p>天気と気温のデータがあるので検定をすれば,晴れの日は雨の日より気温が高いことが分かる</p>
<p>→ そんな当たり前のことが分かっても…..</p></li>
<li><h3 id="目的もデータもあるけど手法が難しすぎる存在しない"><strong>目的もデータもあるけど,手法が難しすぎる/存在しない</strong></h3>
<p>企業の会計データと取引経路のデータがあるので,これで経済構造を明らかにできる!</p>
<p>→ エージェントベースモデリングをやるには,数百万円の計算機と,数万行のコードを書く必要があるし,モデル作成も複雑すぎる….</p></li>
</ul>
<p>ので行ったり来たりするのが通常です.</p>
</div>
<p>卒業研究などではこの過程に,1年以上かけますが,この講義では数ヶ月しか時間がとれません. そこで,<strong>少し妥協する必要があります</strong>.</p>
<p>本当に知りたいこと,本当にやりたいこと,本当に分析したいデータなどが,上手く使えればそれに越したことはありませんが,なかなか上手くは行きません.
一生物の仕事になる場合もあります(その場合は是非,大学院に進んで研究者になりましょう.)</p>
<p>この講義では,1年で0から行うので,</p>
<div class="note">
<ul>
<li><h3 id="すぐに結果が出そうな目的"><strong>すぐに結果が出そうな目的</strong></h3>
<ul>
<li><p>おおよそ明らかになっていることを少し変える</p></li>
<li><p>既に知られていることでも取り敢えずやってみる</p></li>
<li><p>本当に知りたいことのほんの一部だけに限定する</p></li>
</ul></li>
<li><h3 id="手頃なデータ"><strong>手頃なデータ</strong></h3>
<ul>
<li><p>昨年の講義で利用されているデータ</p></li>
<li><p>簡単に手に入るデータ</p></li>
</ul></li>
<li><h3 id="簡単な手法"><strong>簡単な手法</strong></h3>
<ul>
<li><p>授業で扱っている基礎的な手法に限定する</p></li>
<li><p>やりたいことの簡単なバージョンを利用する</p></li>
</ul></li>
</ul>
</div>
<p>くらいに,妥協する必要があります(それでも半年で行うのはかなり大変です.)</p>
<p>これから,具体的な統計やデータサイエンスの手法を学習するので, 並行してできるだけ早くに,自分がこの講義で何をやるのかを決めていきましょう.</p>
<div class="note">
<ul>
<li><p><strong>演習</strong></p></li>
<li><p>目的,手法,データ,どれでも良いので,3つ思いついたものをスライドにまとめてください.</p>
<ul>
<li><p>デザインを入れるなど,きれいにまとめる必要はありません.議論のためのメモ帳として作成してください.</p></li>
<li><p>あとで補足,追加できるように1つのテーマにつき,1ページ使用してください.</p></li>
<li><p>何かを調べた,読んだ,参考にした場合はその出典を書いておいてください.</p>
<p>URL直張りでも構わないので,必ずあとで参照できる形でメモを残しておいてください.</p></li>
<li><p>途中経過で構わないのでグループウェアの自分のチャネルにアップロードしてください.</p></li>
</ul>
<p>現時点では,実現が困難なものでも,不可能なものでも,つまらないものでも構いません,取り敢えず沢山やってみたいこと,興味のあることをまとめましょう.後ほど,その資料を元に,説明してもらい,ディスカッションします.</p></li>
</ul>
</div>

<!-- 前後の章へのナビゲーション -->
<div class="chapter-navigation">
    <nav>
        
            <a class="nav-link prev" href="slds6.html">← Previous Chapter</a>
        
        
            <a class="nav-link next" href="slds8.html">Next Chapter →</a>
        
    </nav>
</div>

    <div style="clear: both"></div>

    <div id="footer">
        Site proudly generated by
        <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
    </div>
</div>


    <!-- GUID -->
    <div style="display: none">ce0f13b2-4a83-4c1c-b2b9-b6d18f4ee6d2</div>

    
    <!-- KaTeX JavaScript and auto-render extension -->
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\[", right: "\]", display: true},
            {left: "$", right: "$", display: false}
          ]
        });
      });
    </script>
    

    <!-- JavaScript TOC generator (only runs on lecture pages) -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      var tocContainer = document.getElementById('lecture-toc');
      if (!tocContainer) return;

      // メインコンテンツから h2, h3, h4 を抽出
      var content = document.querySelector('article') || document.getElementById('content') || document.body;
      var headings = content.querySelectorAll('h2, h3, h4');
      if (headings.length === 0) return;

      // 目次用のUL要素を作成
      var tocList = document.createElement('ul');

      // 章番号カウンタ (h2, h3, h4に対応して配列を用意)
      var chapterNumbers = [0, 0, 0];

      headings.forEach(function(heading) {
        if (heading.closest('li')) return;

        var level;
        switch (heading.tagName.toLowerCase()) {
          case 'h2': level = 0; break;
          case 'h3': level = 1; break;
          case 'h4': level = 2; break;
          default: return;
        }

        chapterNumbers[level]++;
        for (var i = level + 1; i < chapterNumbers.length; i++) {
          chapterNumbers[i] = 0;
        }

        var chapterNumberStr = chapterNumbers.slice(0, level + 1).join('.');
        if (!heading.id) {
          heading.id = heading.textContent.trim().replace(/\s+/g, '-').toLowerCase();
        }

        var li = document.createElement('li');
        li.classList.add('toc-level-' + (level + 1));

        var anchor = document.createElement('a');
        anchor.href = '#' + heading.id;
        anchor.textContent = chapterNumberStr + ' ' + heading.textContent;

        li.appendChild(anchor);
        tocList.appendChild(li);
      });

      tocContainer.appendChild(tocList);
    });
    </script>
     <script>
  document.addEventListener("DOMContentLoaded", function() {
    // すべての <pre><code> 要素を走査
    const codeBlocks = document.querySelectorAll('pre code');
    codeBlocks.forEach(function(codeBlock) {
      // 親<pre>要素を取得
      const pre = codeBlock.parentNode;

      // <pre> を相対配置にし、子要素を絶対配置できるようにする
      pre.style.position = 'relative';

      // コピーボタンを作成
      const copyButton = document.createElement('button');
      copyButton.textContent = 'Copy';
      // ボタンのデザインはCSSで指定するのが望ましいが、簡易的にスタイルを直接指定する例:
      copyButton.style.position = 'absolute';
      copyButton.style.top = '8px';
      copyButton.style.right = '8px';
      copyButton.style.backgroundColor = '#add8e6'; // 水色
      copyButton.style.color = '#fff';             // 白文字
      copyButton.style.border = 'none';
      copyButton.style.padding = '6px 10px';
      copyButton.style.borderRadius = '4px';
      copyButton.style.cursor = 'pointer';

      // クリックされたらクリップボードにコピー
      copyButton.addEventListener('click', function() {
        const codeText = codeBlock.innerText;
        navigator.clipboard.writeText(codeText).then(function() {
          copyButton.textContent = 'Copied!';
          setTimeout(function() {
            copyButton.textContent = 'Copy';
          }, 2000);
        }, function(err) {
          console.error('Failed to copy: ', err);
        });
      });

      // ボタンを <pre> の子要素として挿入
      pre.appendChild(copyButton);
    });
  });
  </script>
  <script>
    function toggleMenu() {
      var nav = document.getElementById('navigation');
      nav.classList.toggle('open');
    }
  </script>
  </body>
</html>