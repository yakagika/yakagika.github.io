<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yakagika - 特別講義DS Ch3 Pythonことはじめ</title>

    <!-- Stylesheets. -->
    <link rel="stylesheet" type="text/css" href="../style.css?v=0">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <!-- RSS. -->
    <link rel="alternate" type="application/rss+xml" title="yakagika" href="https://yakagika.github.io/rss.xml">

    <!-- Metadata. -->

    <meta name="keywords" content="yakagika Haskell ExchangeAlgebra">
    <meta name="description" content="Personal home page and blog of yakagika.">

    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmfnOl4rT9ZfRI7mLTdk1wblIUnrIq35nqwEvC" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4OPoNhVgjdGFwhvN02Ja" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    

    
      <meta property="og:description" content="資料" />
    
  </head>

  <body>

    <!-- ハンバーガーメニューのボタン（小画面時に表示） -->
     <!-- ヘッダーを上部に固定し、その中にハンバーガーを配置 -->
    <header class="site-header">
      <div class="site-title">
        <a href="../">
          <img src="../favicon.ico" alt="Home" style="width: 32px; height: 32px;">
        </a>
      </div>
      <div class="hamburger" onclick="toggleMenu()">☰</div>
    </header>

    <!-- ナビゲーションに drawer-menu クラスを付与 -->
    <div id="navigation" class="drawer-menu">
      <h1>Contents</h1>
      <a href="../">Home</a>
      <a href="../posts.html">Blog</a>
      <a href="../lectures.html">Lecture</a>
      <a href="../research.html">Research</a>
      <a href="../contact.html">Contact</a>
      <!-- <a href="/cv.html">CV</a> -->

      <h1>Links</h1>
      <a href="http://github.com/yakagika" target="_blank" rel="noopener">GitHub</a>
      <a href="https://researchmap.jp/k-akagi" target="_blank" rel="noopener">researchmap</a>

      
      <div id="lecture-toc">
        <h1>Index</h1>
        <!-- The TOC will be generated here by JavaScript -->
      </div>
      
      
    </div>

    <div id="content">
    <h1>特別講義DS Ch3 Pythonことはじめ</h1>
<div class="soft">
    資料<br />
    Published on 2024-03-29 under the tag <a title="All pages tagged 'datascience'." href="../tags/datascience.html">datascience</a>, <a title="All pages tagged 'statistics'." href="../tags/statistics.html">statistics</a>, <a title="All pages tagged 'python'." href="../tags/python.html">python</a>
</div>

<!-- 前後の章へのナビゲーション -->
<div class="chapter-navigation">
    <nav>
        
            <a class="nav-link prev" href="slds2.html">← Previous Chapter</a>
        
        
            <a class="nav-link next" href="slds4.html">Next Chapter →</a>
        
    </nav>
</div>

<br>

<div class="toc"><div class="header">Table of Contents</div>
<ul>
<li><a href="#pythonことはじめ" id="toc-pythonことはじめ"><span class="toc-section-number">1</span> Pythonことはじめ</a>
<ul>
<li><a href="#replを使ってみよう" id="toc-replを使ってみよう"><span class="toc-section-number">1.1</span> REPLを使ってみよう</a></li>
<li><a href="#コメントアウト" id="toc-コメントアウト"><span class="toc-section-number">1.2</span> コメントアウト</a></li>
<li><a href="#データ型" id="toc-データ型"><span class="toc-section-number">1.3</span> データ型</a>
<ul>
<li><a href="#数値型pythonを電卓として使う" id="toc-数値型pythonを電卓として使う"><span class="toc-section-number">1.3.1</span> 数値型(Pythonを電卓として使う)</a></li>
</ul></li>
<li><a href="#変数と代入" id="toc-変数と代入"><span class="toc-section-number">1.4</span> 変数と代入</a>
<ul>
<li><a href="#代入演算子" id="toc-代入演算子"><span class="toc-section-number">1.4.1</span> 代入演算子</a></li>
</ul></li>
<li><a href="#文字列型" id="toc-文字列型"><span class="toc-section-number">1.5</span> 文字列型</a>
<ul>
<li><a href="#文字列の演算" id="toc-文字列の演算"><span class="toc-section-number">1.5.1</span> 文字列の演算</a></li>
</ul></li>
<li><a href="#リスト" id="toc-リスト"><span class="toc-section-number">1.6</span> リスト</a>
<ul>
<li><a href="#リストの演算" id="toc-リストの演算"><span class="toc-section-number">1.6.1</span> リストの演算</a></li>
</ul></li>
<li><a href="#タプル" id="toc-タプル"><span class="toc-section-number">1.7</span> タプル</a></li>
<li><a href="#辞書型" id="toc-辞書型"><span class="toc-section-number">1.8</span> 辞書型</a></li>
<li><a href="#論理演算" id="toc-論理演算"><span class="toc-section-number">1.9</span> 論理演算</a></li>
<li><a href="#復習スクリプトの実行" id="toc-復習スクリプトの実行"><span class="toc-section-number">1.10</span> (復習)スクリプトの実行</a></li>
<li><a href="#エラーへの対応法とよくある間違い" id="toc-エラーへの対応法とよくある間違い"><span class="toc-section-number">1.11</span> エラーへの対応法とよくある間違い</a>
<ul>
<li><a href="#エラーへの対応方法" id="toc-エラーへの対応方法"><span class="toc-section-number">1.11.1</span> エラーへの対応方法</a></li>
<li><a href="#エラーを体験してみよう" id="toc-エラーを体験してみよう"><span class="toc-section-number">1.11.2</span> エラーを体験してみよう</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h2 data-number="1" id="pythonことはじめ"><span class="header-section-number">1</span> Pythonことはじめ</h2>
<p>この章では,Pythonの基礎の基礎を学習します.
本講義はプログラミング自体の学習を対象としているわけではないので,
講義内で必要な技能を紹介するのみに留めます.</p>
<p>基本的には,公式の<a href="https://docs.python.org/ja/3/tutorial/index.html">Pythonチュートリアル</a>の内容で必要十分ですので,そちらにそって学習を進めます.
より詳しい内容を勉強したい場合には,プログラミングの講義を履修するか,
<a href="http://cucieee.stars.ne.jp/index.html">千葉商科大学IEEESB</a>
などに参加するのが良いかと思います.</p>
<p>今回は取り敢えず,以下の作業を自分で行いながら,Pythonの体験をしてみましょう.</p>
<h3 data-number="1.1" id="replを使ってみよう"><span class="header-section-number">1.1</span> REPLを使ってみよう</h3>
<p>プログラムの対話環境全般をREPL (Read Eval Print Loop)と呼びます. 長いプログラム(スクリプト)を書かなくても対話的にプログラムを実行することができます.</p>
<p>Pythonには複数のREPLがあり,iPython, jupyternotebook, Google Colaboratoryなどがあります.ここではとりあえず,iPythonを利用します. 他のものについても,後ほど出てきます.</p>
<p>CLI(PowerShellやTerminal)を開いて,<code>python</code>とだけ打ってEnter Keyを入力するとPythonのREPLが立ち上がります.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.10.11 <span class="er">(</span><span class="ex">v3.10.11:7d4cc5aa85,</span> Apr  4 2023, 19:05:19<span class="kw">)</span> <span class="ex">[Clang</span> 13.0.0 <span class="er">(</span><span class="ex">clang-1300.0.29.30</span><span class="kw">)</span><span class="ex">]</span> on darwin</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">&quot;help&quot;</span>, <span class="st">&quot;copyright&quot;</span>, <span class="st">&quot;credits&quot;</span> or <span class="st">&quot;license&quot;</span> for more information.</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span></span></code></pre></div>
<p>プログラムを書いてEnter Keyを押すとその行のプログラムが実行されます.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code></pre></div>
<p>終了するには,<code>exit()</code>と入力します.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span> 1m 7s</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Python</span> 3.10.11 <span class="er">(</span><span class="ex">v3.10.11:7d4cc5aa85,</span> Apr  4 2023, 19:05:19<span class="kw">)</span> <span class="ex">[Clang</span> 13.0.0 <span class="er">(</span><span class="ex">clang-1300.0.29.30</span><span class="kw">)</span><span class="ex">]</span> on darwin</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Type</span> <span class="st">&quot;help&quot;</span>, <span class="st">&quot;copyright&quot;</span>, <span class="st">&quot;credits&quot;</span> or <span class="st">&quot;license&quot;</span> for more information.</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> 1 <span class="ex">+</span> 1</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">2</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> exit<span class="kw">()</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="ex">~/Desktop</span> 1m 7s</span></code></pre></div>
<h3 data-number="1.2" id="コメントアウト"><span class="header-section-number">1.2</span> コメントアウト</h3>
<p>REPL上でもスクリプトでも,#を先頭につけると,その行はコメントとして扱われます.</p>
<p>ただのコメントであり,プログラムとしては何も実行されません.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># これはコメント何も起きない</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span></span></code></pre></div>
<h3 data-number="1.3" id="データ型"><span class="header-section-number">1.3</span> データ型</h3>
<p>第1回の検査に関する説明で軽く触れましたが, プログラミングで扱うデータはコンピュータのメモリ上に数値の羅列として存在します. それらの数値に人間が解釈可能な意味を与えたものをデータ型といいます.</p>
<p>Pythonで最初から準備されているデータ型(<strong>組み込み型</strong>)には以下のようなものがあります.
詳細はこのあと順番に見ていきますので, こんなものがあるということだけ,頭に入れておきましょう.</p>
<div class="note">
<p>Pythonのデータ型(一部)</p>
<ul>
<li><p>数値型:数値を表す</p>
<ul>
<li>整数(<code>int</code>)</li>
<li>浮動小数点数(<code>float</code>)</li>
<li>複素数(<code>complex</code>)</li>
</ul></li>
<li><p>文字列型(<code>str</code>):文字を表す</p></li>
<li><p>リスト(<code>list</code>):いくつかのデータをまとめたもの</p></li>
<li><p>タプル(<code>tuple</code>):データの組み合わせ</p></li>
<li><p>辞書型(<code>dict</code>):<code>key</code>と<code>value</code>からなる辞書を表す</p></li>
<li><p>真偽値(<code>bool</code>):正しいか正しくないかなどを表す</p></li>
</ul>
</div>
<h4 data-number="1.3.1" id="数値型pythonを電卓として使う"><span class="header-section-number">1.3.1</span> 数値型(Pythonを電卓として使う)</h4>
<p>REPLの動きに慣れるために,電卓で行うような簡単な計算をREPL上で行いましょう.
電卓で行う計算なので,ここで扱うデータ型は数値型になります.
Pythonにおける数値型には整数を表す<code>int</code>,小数を表す<code>float</code>,複素数を表す<code>complex</code>があります. 本資料では,その内<code>int</code>と<code>float</code>について扱います.</p>
<p>基本的には<code>1</code>や<code>100</code>のような整数を書けば<code>int</code>型として認識され,<code>1.0</code>や<code>100.3</code>のように小数点をつけると<code>float</code>型として認識されます.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="fl">1.0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fl">1.0</span></span></code></pre></div>
<p>Pythonでは<code>type()</code>の丸括弧の中にデータを記述することで特定のデータのデータ型を確認することができます.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="dv">1</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">'int'</span><span class="op">&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="fl">1.0</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">'float'</span><span class="op">&gt;</span></span></code></pre></div>
<p>整数や後述の文字など変換可能なデータ型から,<code>int</code>型へ変換するには<code>int()</code>の中に,そのデータを書きます. <code>float</code>型に変換するには,<code>float()</code>を使います.<code>float</code>から<code>int</code>への変換では,小数点以下が切り捨てられます.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">int</span>(<span class="fl">4.9</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">float</span>(<span class="dv">2</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fl">2.0</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">float</span>(<span class="st">&quot;2&quot;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fl">2.0</span></span></code></pre></div>
<p>Pythonでは複数の数値型が混ざった計算に対応しています. 基本的に,特定の計算で複数の数値型が混じっている場合には, <code>int</code>型は<code>float</code>型に,<code>float</code>型は<code>complex</code>型に自動で拡張されるので本講義の範囲ではそれほど意識する必要はありません.</p>
<p>簡単な計算に用いる記号は以下のとおりです.</p>
<table>
<thead>
<tr class="header">
<th>計算</th>
<th>記号</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>足し算</td>
<td><code>+</code></td>
</tr>
<tr class="even">
<td>引き算</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td>掛け算</td>
<td><code>*</code></td>
</tr>
<tr class="even">
<td>割り算</td>
<td><code>/</code></td>
</tr>
<tr class="odd">
<td>整数除算</td>
<td><code>//</code></td>
</tr>
<tr class="even">
<td>剰余(余り)</td>
<td><code>%</code></td>
</tr>
<tr class="odd">
<td>累乗</td>
<td><code>**</code></td>
</tr>
<tr class="even">
<td>絶対値</td>
<td><code>abs()</code></td>
</tr>
<tr class="odd">
<td>整数変換</td>
<td><code>int()</code></td>
</tr>
<tr class="even">
<td>小数変換</td>
<td><code>float()</code></td>
</tr>
</tbody>
</table>
<p>実際の計算は以下のようになるはずです.</p>
<p>計算は普通の電卓と同じような感覚で使えます.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 足し算</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 引き算</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">10</span> <span class="op">-</span> <span class="dv">5</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 掛け算</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">2</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 割り算</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">100</span> <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="fl">20.0</span></span></code></pre></div>
<p>計算には順序があり丸括弧 <code>()</code>で囲うことで計算する順番を変えることができます.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">50</span> <span class="op">-</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">6</span>) <span class="op">/</span> <span class="dv">4</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fl">5.0</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">50</span> <span class="op">-</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">6</span> <span class="op">/</span> <span class="dv">4</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fl">42.5</span></span></code></pre></div>
<p>マイナスの数は数値の前に<code>-</code>をつけます</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">10</span> <span class="op">+</span> <span class="op">-</span><span class="dv">5</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span></code></pre></div>
<p>割り算の商と余りは<code>//</code>や,<code>%</code>で計算できます.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 整数除算(余りを表示しない)</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">6</span> <span class="op">//</span> <span class="dv">4</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="fl">1.0</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 剰余(余り)</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">17</span> <span class="op">%</span> <span class="dv">3</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">3</span> <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span></span></code></pre></div>
<p>同じ数字をX回掛けたものを累乗といい,<code>**</code>といいます. <code>2 ** 3 = 2 * 2 * 2</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 累乗</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">2</span> <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">2</span> <span class="op">**</span> <span class="dv">3</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span></span></code></pre></div>
<p><code>abs()</code> の中に数値を入れることで絶対値が計算できます</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">abs</span>(<span class="dv">4</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">abs</span>(<span class="op">-</span><span class="dv">4</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<p>以下の計算をREPLを使って自分でしてみましょう.
Pythonの計算になれることが目的ですので,どのように計算したかを説明できるようにしましょう.</p>
<ul>
<li><p>飴が40個あります.7人で同じ数ずつ分けると1人分は何個で何個あまりますか?</p></li>
<li><p>底辺5cm,高さ4cmの三角形の面積はいくつですか?</p></li>
<li><p>2の8乗はいくつですか?</p></li>
<li><p>累乗と掛け算の計算順序を丸括弧を使った計算で確かめてください.</p></li>
</ul>
</div>
<h3 data-number="1.4" id="変数と代入"><span class="header-section-number">1.4</span> 変数と代入</h3>
<p>値に名前をつけることを<code>代入</code>といい,名前のついた値を<code>変数</code>といいます. <code>=</code> の左側に付けたい名前,右側に値を書きます.</p>
<p>プログラムでは,データはコンピュータの記憶領域(メモリ)に格納されています. メモリは,1バイト(8bit, 1bit は0/1の値)ごとにアドレスという連番がついています.</p>
<figure>
<img src="../images/memory-null.png" alt="memory null" />
<figcaption aria-hidden="true">memory null</figcaption>
</figure>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">10</span></span></code></pre></div>
<p>変数を宣言するということは,このアドレスにデータを割り当てることを意味します.
<code>x = 10</code>という変数が4バイト利用するとしたら以下のようにアドレス 201 から204 に 10という数字(int)を割り当てるイメージです.</p>
<figure>
<img src="../images/memory-10.png" alt="memory 10" />
<figcaption aria-hidden="true">memory 10</figcaption>
</figure>
<p><code>x</code>のアドレスは<code>id(x)</code>で確認できます.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span></code></pre></div>
<p><code>y = x</code> と変数に別の名前を宣言する場合は,同じ場所が参照されます.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(y)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span></code></pre></div>
<figure>
<img src="../images/memory-10y.png" alt="memory 10" />
<figcaption aria-hidden="true">memory 10</figcaption>
</figure>
<p><code>x=15</code>と再度代入する(再代入)と,新しくメモリが確保されます.
その際に,<code>x</code>をコピーしていた<code>y</code>の値も変わることに注意しましょう.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639280</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(y)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639280</span></span></code></pre></div>
<figure>
<img src="../images/memory-15.png" alt="memory 15" />
<figcaption aria-hidden="true">memory 15</figcaption>
</figure>
<p>数値の場合には<code>y</code>に再代入しても,<code>x</code>の値は変わりません.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(y)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">15</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="dv">15</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639120</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(y)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="dv">4438639280</span></span></code></pre></div>
<p>この挙動は,後に出てくる配列では,異なるので注意が必要です.</p>
<div class="note">
<p>変数に名前をつける際には,以下の点に注意しましょう.</p>
<ul>
<li><p>小文字で始まる英数字を使う</p></li>
<li><p>複数の単語を使うときは<code>_</code>(アンダーバー)でつなげる</p></li>
<li><p>英語で名前をつける</p>
<ul>
<li><code>nagasa</code> ではなく <code>length</code></li>
<li><code>namae</code> ではなく <code>name</code></li>
</ul></li>
<li><p>長くなっても良いので他の人が見たときに意味がわかる名前をつける</p>
<ul>
<li>三角形の高さを表したいとして
<ul>
<li><code>x</code>や<code>h</code>などの一文字よりも</li>
<li><code>height</code>のほうが良い</li>
<li>他にも高さを表す変数が登場するなら
<code>triangle_height</code>のほうがより分かりやすい</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co"># 長方形の面積を求める</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> width <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> height <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> area <span class="op">=</span> width <span class="op">*</span> height</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> area</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="dv">900</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co">#定義されていないものはエラーがでます</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> space</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a> File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="pp">NameError</span>: name <span class="st">'space'</span> <span class="kw">is</span> <span class="kw">not</span> defined</span></code></pre></div>
</div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li>変数を利用して以下の猫型ロボットのBMIを計算してください
<ul>
<li>BMI = 体重(kg)÷身長(m)の2乗</li>
<li>猫型ロボットの身長 129.3cm</li>
<li>猫型ロボットの体重 129.3kg</li>
</ul></li>
</ul>
</div>
<h4 data-number="1.4.1" id="代入演算子"><span class="header-section-number">1.4.1</span> 代入演算子</h4>
<p>代入は<code>=</code>でつなげる以外にもいくつかのパターンがあります.
まずは,普通に変数に数値を代入してみます.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code></pre></div>
<p>このように具体的な値を<code>=</code>の右側に記入するのは直感的に分かりやすいのですが,pythonのプログラムを見ていると,左右に同じ変数名が登場する場合があります.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code></pre></div>
<p>これは,<strong>右側に登場する</strong><code>x</code>は過去の<code>x</code>を表しており,<strong>左側に登場する</strong><code>x</code>は,過去の<code>x</code>を利用して作られた新しい<code>x</code>であると解釈しましょう.</p>
<p>上の例では,<code>x=1</code>という過去の変数を使って, <code>x(=1) + 1</code>という新しい<code>x</code>を作っています.
これは<strong>自己代入</strong>と呼ばれ,数学や関数型言語における<strong>再帰</strong>とは異なり,手続き型言語独特の記法なので注意しましょう.</p>
<p>足し算<code>+</code>を使った自己代入は省略して, <code>x += 1</code>のように書けます. これは <code>x = x + 1</code>の省略形で<strong>複合代入演算子</strong>といいます.</p>
<p>同様に,引き算<code>-=</code>,掛け算 <code>*=</code>, 割り算 <code>/=</code>などの代入演算子も存在します.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">-=</span> <span class="dv">5</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">*=</span> <span class="dv">5</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">/=</span> <span class="dv">5</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span></code></pre></div>
<h3 data-number="1.5" id="文字列型"><span class="header-section-number">1.5</span> 文字列型</h3>
<p>ここまでは,数値のみを扱ってきましたが,Pythonには数値以外にもいくつものデータ型が存在します.
次に, 文字を表す<code>文字列型(str)</code>の利用法について見ていきましょう.</p>
<p>文字列型は,文字を<code>""</code>(ダブルクオーテーション),あるいは<code>''</code>(シングルクォーテーション)で囲みます.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;イヌ&quot;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">'イヌ'</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'ネコ'</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">'ネコ'</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="st">'ネコ'</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">'str'</span><span class="op">&gt;</span></span></code></pre></div>
<p>三連引用符<code>"""</code>で囲むことで複数行書くことができます.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;&quot;&quot; あ</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="st">... い</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="st">... う&quot;&quot;&quot;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">'あ</span><span class="ch">\n</span><span class="co">い</span><span class="ch">\n</span><span class="co">う'</span></span></code></pre></div>
<p><code>\n</code>は改行を表しています.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">'あ</span><span class="ch">\n</span><span class="st">い</span><span class="ch">\n</span><span class="st">う'</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>あ</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>い</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>う</span></code></pre></div>
<h4 data-number="1.5.1" id="文字列の演算"><span class="header-section-number">1.5.1</span> 文字列の演算</h4>
<p>文字列は<code>+</code>で連結,<code>*</code>で反復させることができます.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name <span class="op">=</span> <span class="st">'太郎'</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'私は'</span> <span class="op">+</span> name  <span class="op">+</span> <span class="st">'です!'</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">'私は太郎です!'</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co">'太郎太郎太郎'</span></span></code></pre></div>
<p>変数を文字列の中で使いたいときには,上の例のように<code>+</code>で連結することもできますが,変数が文字列型ではないときには,<code>str()</code>を利用して文字列型に変換してから,結合する必要があります.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cat_num <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(cat_num)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">'int'</span><span class="op">&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co">#そのまま文字列と結合するとエラーが出る</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'私はネコを'</span> <span class="op">+</span> cat_num <span class="op">+</span> <span class="st">'匹飼っています.'</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: can only concatenate <span class="bu">str</span> (<span class="kw">not</span> <span class="st">&quot;int&quot;</span>) to <span class="bu">str</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="co">#str()を利用して文字列に変換する</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'私はネコを'</span> <span class="op">+</span> <span class="bu">str</span>(cat_num) <span class="op">+</span> <span class="st">'匹飼っています.'</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co">'私はネコを10匹飼っています.'</span></span></code></pre></div>
<p>また,変数の値を文字列の中で利用する場合には<code>str()</code>や<code>+</code>を利用して結合する以外にも<code>f'文字列'</code>という記法を利用することができます.文字列の前に<code>f</code>と書くと,文字列内の<code>{変数名}</code>の部分が変数の値に変更されます.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f'私はネコを</span><span class="sc">{</span>cat_num<span class="sc">}</span><span class="ss">匹飼っています.'</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co">'私はネコを10匹飼っています.'</span></span></code></pre></div>
<p><code>{変数名}</code>の部分には式を入れることも可能です.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f'私はネコを</span><span class="sc">{</span>cat_num<span class="op">*</span><span class="dv">10</span><span class="sc">}</span><span class="ss">匹飼っています.'</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">'私はネコを100匹飼っています.'</span></span></code></pre></div>
<p>文字列が代入された変数の後ろに<code>[]</code>をつけて,番号を<code>[]</code>の中に入れると,指定した番号番目の文字が取得できます. このような<code>[]</code>で指定する数字を<code>index</code>といいます.</p>
<p><code>Python</code>という文字に対して,indexは以下のように振られています.
<code>-</code>をつけて後ろから数えることもできます.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">文字列</th>
<th style="text-align: center;">P</th>
<th style="text-align: center;">y</th>
<th style="text-align: center;">t</th>
<th style="text-align: center;">h</th>
<th style="text-align: center;">o</th>
<th style="text-align: center;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">前から</td>
<td style="text-align: center;">0</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">5</td>
</tr>
<tr class="even">
<td style="text-align: center;">後ろから</td>
<td style="text-align: center;">-6</td>
<td style="text-align: center;">-5</td>
<td style="text-align: center;">-4</td>
<td style="text-align: center;">-3</td>
<td style="text-align: center;">-2</td>
<td style="text-align: center;">-1</td>
</tr>
</tbody>
</table>
<p>Pythonの文字列は,最初の文字を<code>0</code>番目と数えるので注意しましょう.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word <span class="op">=</span> <span class="st">'Python'</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">0</span>]</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co">'P'</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">5</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co">'n'</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;</span> word[<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="co">'p'</span></span></code></pre></div>
<p>インデックスの<code>[]</code>の中で,<code>[Start:End]</code>のようにはじめと終わりのインデックスを指定することで,文字列の1文字ではなく,部分的な文字列を取得することもできます. これを<strong>スライス</strong>といいます.</p>
<p>終わりは,一つ手前までになるので注意しましょう.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">0</span>:<span class="dv">2</span>]</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">'Py'</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">2</span>:<span class="dv">5</span>]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">'tho'</span></span></code></pre></div>
<p>はじめか終わりのインデックスを省略すると,<strong>以前/以降の全て</strong>という意味になります.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[:<span class="dv">4</span>] <span class="co">#0から4まで</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co">'Pyth'</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">2</span>:] <span class="co">#2から最後まで</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co">'thon'</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li>演習1</li>
</ul>
<p><code>'abcdefg'</code> から <code>'cde'</code>をスライスで抜き出してください.</p>
<ul>
<li>演習2</li>
</ul>
<p><code>x = 'abcdefg'</code>と定義して, xに操作を加えて<code>'abfg'</code>を作ってください.</p>
<ul>
<li>演習3</li>
</ul>
<p><code>x = 'abcdefg'</code>と定義して, xに操作を加えて<code>'bbbeee'</code>を作ってください.</p>
</div>
<h3 data-number="1.6" id="リスト"><span class="header-section-number">1.6</span> リスト</h3>
<p>複数の値をまとめるデータ型の一種に<strong>リスト型</strong>があります. コンマで区切って角括弧の中に複数の値を書くことで,ひとまとまりのデータを作れます.
リストの中身一つ一つを<strong>要素</strong>といいます.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">16</span>,<span class="dv">25</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">16</span>,<span class="dv">25</span>]</span></code></pre></div>
<p>リストは文字列と同じ様に,インデックスやスライスで要素を取得できます.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares[<span class="dv">0</span>]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> squares[<span class="op">-</span><span class="dv">3</span>:]</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">9</span>,<span class="dv">16</span>,<span class="dv">25</span>]</span></code></pre></div>
<h4 data-number="1.6.1" id="リストの演算"><span class="header-section-number">1.6.1</span> リストの演算</h4>
<p>リストも<code>+</code>で連結,<code>*</code>で反復させることができます.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>] <span class="op">+</span> [<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> [<span class="dv">1</span>] <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> [<span class="dv">1</span>,<span class="dv">2</span>] <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>]</span></code></pre></div>
<p>リストはインデックスやスライスで指定した要素に値を再代入して変更することができます.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals <span class="op">=</span> [<span class="st">'cat'</span>,<span class="st">'dog'</span>,<span class="st">'bird'</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals[<span class="dv">1</span>] <span class="op">=</span> <span class="st">'mouse'</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>,<span class="st">'mouse'</span>,<span class="st">'bird'</span>]</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals[<span class="dv">1</span>:] <span class="op">=</span> [<span class="st">'fish'</span>,<span class="st">'pig'</span>]</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>]</span></code></pre></div>
<div class="warn">
<p>リストは,数値などとは<strong>変数に別の名前をつけたときの挙動が異なる</strong>ので注意が必要です.</p>
<p>数値や文字列は,別の名前をつけた変数に再代入した場合もとの変数は,変更されません.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cat <span class="op">=</span> <span class="st">'cat'</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat <span class="op">=</span> cat</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat <span class="op">=</span> <span class="st">'cute_cat'</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cat</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="co">'cat'</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cute_cat</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">'cute_cat'</span></span></code></pre></div>
<p><code>cute_cat</code>を変更しても<code>cat</code>は変わりません. 代入の説明箇所で見たように,数値などの変数の場合は,<code>cute_cat</code>には<code>cat</code>の値が渡されており,値が同じ場合には同じアドレスを参照するが,値が変更された場合には,
新しいメモリが確保されます.</p>
<p>しかし,リストは別名の変数を変更すると元の変数の値も変更されます.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals <span class="op">=</span> [<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>]</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="op">=</span> animals</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'horse'</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>[<span class="st">'horse'</span>, <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>[<span class="st">'horse'</span>, <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span></code></pre></div>
<p><code>animal</code>の別名<code>species</code>を変更すると<code>animal</code>も変更されています. これは,配列などは新しい名称の変数に,値ではなくアドレスを渡していることによります.どちらの変数もずっと同じアドレスを参照しつづけるため,片方が変化すると同じアドレスを参照しているもう片方の値も変わります.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(animals)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4441753024</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(species)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4441753024</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'cat'</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(species)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4441753024</span></span></code></pre></div>
<p>しかし,インデックスやスライスによる要素の変更ではなく,全体を再代入した場合には新しいアドレスが割り当てられます.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="op">=</span> [<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'c'</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(species)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4441834752</span></span></code></pre></div>
<p>同じ値を持つが異なる場所を参照するリストを作りたい場合には,<code>copy()</code>を利用します.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals <span class="op">=</span> [<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>]</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species <span class="op">=</span> animals.copy()</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(animals)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4441764160</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(species)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4441798208</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'dog'</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>, <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> species</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>[<span class="st">'dog'</span>, <span class="st">'fish'</span>, <span class="st">'pig'</span>]</span></code></pre></div>
<p>このような挙動は今後出てくる<code>pandas</code>などの配列でも同様なので,注意が必要です.</p>
</div>
<p><code>append()</code>というメソッドを使って,リストの末尾に要素を追加することができます.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals.append(<span class="st">'dog'</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>,<span class="st">'dog'</span>]</span></code></pre></div>
<p>リストの長さ(要素数)を知りたい場合には,<code>len()</code>関数を利用します.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> animals</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>[<span class="st">'cat'</span>,<span class="st">'fish'</span>,<span class="st">'pig'</span>,<span class="st">'dog'</span>]</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">len</span>(animals)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span></code></pre></div>
<div class="warn">
<p><code>メソッド</code>,<code>関数</code>という言葉が説明無しに突然でてきました.
これらの違いについて理解するには段階が必要なため,後に説明します.
ここでは,変数などの後ろに<code>変数.f()</code>の形で<code>.</code>を利用してつけるものを<code>メソッド</code>,単独で<code>f()</code>のように利用するものを<code>関数</code>ということだけ覚えておきましょう.
なお,いずれも<code>()</code>の中に値や変数を書いたり書かなかったりしますが,その意味についても後ほど扱います.</p>
</div>
<p>リストはリストも要素にすることができます. このようなリストを<strong>多重リスト</strong>と呼びます.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> [<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="op">=</span> [x,y]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>],[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]]</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z[<span class="dv">1</span>]</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z[<span class="dv">0</span>][<span class="dv">1</span>]</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<p><code>xs = [[1,2,3],[4,5,6],[7,8,9]]</code> というリストを作り,以下の操作を行ってください.</p>
<ul>
<li><p><code>xs</code>の長さを求める</p></li>
<li><p>スライスを使って以下を抽出する</p>
<ul>
<li><code>[[4,5,6],[7,8,9]]</code></li>
<li><code>[[1,2,3]]</code></li>
<li><code>[[7,8,9]]</code></li>
<li><code>[8,9]</code></li>
</ul></li>
<li><p><code>[4,5,6]</code>を<code>[-4,-5,-6]</code>に更新する</p></li>
<li><p><code>1</code> を <code>-1</code>に,<code>9</code>を<code>-9</code>にする</p></li>
<li><p><code>[7,8,-9]</code>のあとに,<code>[10,11,12]</code>を追加する</p></li>
</ul>
</div>
<h3 data-number="1.7" id="タプル"><span class="header-section-number">1.7</span> タプル</h3>
<p>Pythonにはリスト以外にも複数のデータ型の組み合わせを表すデータ型が存在します. タプルは,データの組を表すデータ型であり,<code>()</code>の中に<code>,</code>で区切ってデータを入れることでリストのようにデータを格納することができます.
タプルも複数のデータをまとめることができます.</p>
<p>しかし, リストのように扱うことは推奨されません.
(後に扱う関数などで返り値を複数返したいときなど)基本的に2,3個のデータの組を扱いたい場合に利用して,3個以上のデータを扱い場合にはリストなどを使うようにしましょう.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age <span class="op">=</span> (<span class="st">'Taro'</span>,<span class="dv">10</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>(<span class="st">'Taro'</span>, <span class="dv">10</span>)</span></code></pre></div>
<p>タプルの値の取り出しには,同じ形のタプルに変数を格納することで値を取り出す<code>パターンマッチ</code>が良く利用されます.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (name,age) <span class="op">=</span> name_and_age</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co">'Taro'</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> age</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div>
<p>インデックスによる値の取得も可能です.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age[<span class="dv">0</span>]</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co">'Taro'</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age[<span class="dv">1</span>]</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div>
<p>ただし,インデックスを利用した要素の変更はできません.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> name_and_age[<span class="dv">0</span>] <span class="op">=</span> <span class="st">'Hanako'</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: <span class="st">'tuple'</span> <span class="bu">object</span> does <span class="kw">not</span> support item assignment</span></code></pre></div>
<h3 data-number="1.8" id="辞書型"><span class="header-section-number">1.8</span> 辞書型</h3>
<p>名前とその意味, 商品と在庫数,日本語名と英語名など,特定のデータに対応する別のデータの組み合わせを沢山扱いたい場合には,<code>辞書型</code>(dict)が利用されます. 辞書型は<code>key</code>と<code>value</code>と呼ばれるデータの組み合わせからなります.</p>
<p>辞書型のデータは,<code>{key1:value1,key2:value2,...}</code>のように,<code>key</code>と<code>value</code>の組み合わせを<code>:</code>で表して,<code>{}</code>にコンマで区切るかたちで作成します.</p>
<p>例えば, 学生と学生の出席回数の組み合わせを表すデータは以下のように作成されます.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance <span class="op">=</span> {<span class="st">'Taro'</span>:<span class="dv">10</span>,<span class="st">'Hanako'</span>:<span class="dv">12</span>,<span class="st">'Kenta'</span>:<span class="dv">9</span>,<span class="st">'Shizuka'</span>:<span class="dv">10</span>}</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>{<span class="st">'Taro'</span>: <span class="dv">10</span>, <span class="st">'Hanako'</span>: <span class="dv">12</span>, <span class="st">'Kenta'</span>: <span class="dv">9</span>, <span class="st">'Shizuka'</span>: <span class="dv">10</span>}</span></code></pre></div>
<p><code>dict()</code>に<code>key</code>と<code>value</code>のタプルのリストを渡すことで生成する事もできます.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance <span class="op">=</span> <span class="bu">dict</span>([(<span class="st">'Taro'</span>,<span class="dv">10</span>),(<span class="st">'Hanako'</span>,<span class="dv">12</span>),(<span class="st">'Kenta'</span>,<span class="dv">9</span>)])</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>{<span class="st">'Taro'</span>: <span class="dv">10</span>, <span class="st">'Hanako'</span>: <span class="dv">12</span>, <span class="st">'Kenta'</span>: <span class="dv">9</span>}</span></code></pre></div>
<p>特定の<code>key</code>でそれに対応する<code>value</code>を呼び出すには,<code>key</code>をインデックスとして<code>[]</code>を利用します.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Taro'</span>]</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Shizuka'</span>]</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div>
<p>新しい<code>key:value</code>を加える場合にも,<code>value</code>を変更する場合にも,インデックスによる代入が利用できます.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Taro'</span>] <span class="op">=</span> <span class="dv">11</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Taro'</span>]</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Shinzi'</span>] <span class="op">=</span> <span class="dv">12</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance[<span class="st">'Shinzi'</span>]</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span></span></code></pre></div>
<p><code>key</code>を削除するには<code>pop(消したいkey)</code>メソッドを利用します.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.pop(<span class="st">'Hanako'</span>)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>{<span class="st">'Taro'</span>: <span class="dv">11</span>, <span class="st">'Kenta'</span>: <span class="dv">9</span>, <span class="st">'Shizuka'</span>: <span class="dv">10</span>, <span class="st">'Shinzi'</span>: <span class="dv">12</span>}</span></code></pre></div>
<p>辞書型のデータから,<code>key</code>のみ,<code>value</code>のみを抜き出すには,<code>keys()</code>,<code>values()</code>メソッドを利用します.
リストとして取得したい場合には,<code>list()</code>関数で囲みます.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.keys()</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>dict_keys([<span class="st">'Taro'</span>, <span class="st">'Kenta'</span>, <span class="st">'Shizuka'</span>, <span class="st">'Shinzi'</span>])</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> attendance.values()</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>dict_values([<span class="dv">11</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">12</span>])</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(attendance.values())</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">12</span>]</span></code></pre></div>
<p>これらの処理はリストを利用しても可能ですが,辞書型のほうが計算が速いため辞書型を利用するようにしましょう. プログラミングにおいては用途に応じて適切なデータ型を選択することが重要です.</p>
<div class="warn">
<p>同じような処理が可能なデータ型でも,その処理を実行するのにコンピュータが必要な計算の数や,使用するメモリの量,速度などに違いがあります.</p>
<p>この資料では扱いませんが,大規模なデータを扱う場合や,大量の計算を行うプログラムを書く際には,<code>計算量</code>を考慮して<code>アルゴリズムとデータ構造</code>を適切に設計する必要があります. 興味のある方は,調べてみましょう.</p>
</div>
<div class="note">
<p><strong>演習</strong></p>
<ul>
<li><p>5種類の果物の日本語名と英語名を変換する辞書を作成し,実際に機能する様子を紹介してください.</p></li>
<li><p>上で作成した辞書にもう一つ果物を追加してください.</p></li>
</ul>
</div>
<h3 data-number="1.9" id="論理演算"><span class="header-section-number">1.9</span> 論理演算</h3>
<p>それが正しいか間違っているか判別できる文を<strong>命題</strong>といいます. 命題の結果を表すものとして真(正しい),偽(間違っている)という値を用います. 真と偽を併せて<strong>真偽値</strong>といいます.</p>
<p>例えば,<code>1は2より大きい</code>という命題は,間違っているので<strong>偽</strong>となります. <code>人間は必ず死ぬ</code>という命題は,今のところ不老不死の人間がいないので<strong>真</strong>です.</p>
<p>プログラミングではこのような命題の判断がしばしば必要となるため,それらを扱うデータ型が提供されています.</p>
<p>真偽値を表すデータ型として<code>Bool</code>があります. <code>Bool</code>は<code>True</code>(真),<code>False</code>(偽)のいずれかです.</p>
<p>Pythonには命題の判定を行う演算子として,以下のようなものが準備されています.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">記号</th>
<th style="text-align: center;">意味</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&gt;</code></td>
<td style="text-align: center;">より大きい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;=</code></td>
<td style="text-align: center;">以上</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&lt;</code></td>
<td style="text-align: center;">より小さい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&lt;=</code></td>
<td style="text-align: center;">以下</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>==</code></td>
<td style="text-align: center;">等しい</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!=</code></td>
<td style="text-align: center;">等しくない</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>in</code></td>
<td style="text-align: center;">含む</td>
</tr>
</tbody>
</table>
<p>数値などの大小関係を調べるときには,比較演算子 <code>&gt;</code>,<code>&gt;=</code>.<code>&lt;</code>,<code>&lt;=</code>を利用します. 演算子の左右に数値を書くと,結果に応じて真偽値が帰ってきます.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span> <span class="op">&lt;</span> <span class="fl">1.5</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
<p>リストや文字列に特定の要素(文字列)が含まれているかは,<code>in</code>で判定できます.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'ab'</span> <span class="kw">in</span> <span class="st">'abcd'</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">1</span> <span class="kw">in</span> [<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>]</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span></code></pre></div>
<p>値が等しいか/等しくないかを判定するには,<code>==</code>と<code>!=</code>を利用します.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">4</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">'cat'</span> <span class="op">!=</span> <span class="st">'cat'</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span></code></pre></div>
<p>これ以外にもPythonにはいくつかの演算が準備されていますし,自分で作ることも可能です.</p>
<p><code>True</code> や <code>False</code>などの<code>Bool</code>値は, <code>AND</code>(かつ),<code>OR</code>(または),<code>NOT</code>という演算で計算することができます(<code>XOR</code>というのもあるが省略).
PythonではAND は <code>&amp;</code>, OR は <code>|</code>, NOT は <code>not</code> という演算子が提供されています.</p>
<p>A,Bが命題だとして,<code>A &amp; B</code>は両方<code>True</code>のときに,<code>True</code>となります. <code>A | B</code>は片方どちらかが<code>True</code>のときに<code>True</code>となります.</p>
<p>例えば,</p>
<ul>
<li><p><code>1は2より大きい かつ 2は0より大きい</code> という命題は,<code>2は0より大きい</code>は正しいですが,<code>1は2より大きい</code>が間違っているので全体として,<code>False</code>です.</p></li>
<li><p><code>ネコは哺乳類である または ネコは鳥類である</code>という命題は <code>ネコは鳥類である</code>が間違っていますが全体としては<code>True</code>です.</p></li>
</ul>
<p>演算の結果は,それぞれ以下のようになります. これを真偽値表といいます. ここでは,最低限の例だけを紹介しますが,より深く理解したい人は論理学などの講義を受講しましょう.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">命題Aの値</th>
<th style="text-align: center;">Bの値</th>
<th style="text-align: center;"><code>A &amp; B</code></th>
<th style="text-align: center;"><code>A | B</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">True</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="even">
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="odd">
<td style="text-align: center;">True</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">True</td>
</tr>
<tr class="even">
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
<td style="text-align: center;">False</td>
</tr>
</tbody>
</table>
<p>Pythonではそれぞれの命題を丸括弧で囲んで,<code>&amp;</code>,<code>|</code>演算子で論理演算を行うことができます.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span>) <span class="op">&amp;</span> (<span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span>) <span class="op">|</span> (<span class="dv">2</span> <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
<p><code>not</code> は命題の否定を表しており <code>True</code>が<code>False</code>,<code>False</code>が<code>True</code>になります.<code>not</code>は命題の前に書きます.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">not</span> (<span class="dv">1</span> <span class="op">&gt;</span> <span class="dv">2</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
<div class="note">
<p><strong>演習</strong></p>
<p>ある値が偶数かどうかは,2で割った余りが0かどうかを判定することで判定できます.
<code>x=101</code>,<code>y=202</code>として, 以下の命題の真偽をPythonで計算してください.</p>
<ul>
<li>xが偶数</li>
<li>yが偶数</li>
<li>xが偶数かつyが偶数</li>
<li>xが偶数またはyが偶数</li>
<li>x + y が奇数</li>
</ul>
</div>
<h3 data-number="1.10" id="復習スクリプトの実行"><span class="header-section-number">1.10</span> (復習)スクリプトの実行</h3>
<p>これまでは,対話環境でプログラムを実行してきましたが,対話環境は複雑な処理には適しません.
これから,1行1行プログラムを記述して対話環境で実行するのではなく,複数行のプログラムをまとめて記述して一気に実行する方式に切り替えます. 複数行のプログラムを一つのファイルにまとめたものをスクリプトファイルと呼び, 書かれているプログラムをスクリプトといいます. 前回行った<code>Hello World</code>はスクリプトを実行していました.</p>
<div class="note">
<p><strong>Pythonのスクリプト実行の方法</strong></p>
<ul>
<li><p>テキストファイルにプログラムを書く</p></li>
<li><p>ファイルの拡張子を<code>.py</code>にして保存する</p>
<ul>
<li>講義で作成したプログラムは,あとで自分が参考にできる最高の資料です.
<ul>
<li><p>あとで何をやっているのか自分が理解できるように
プログラムにはできるだけ沢山のコメントを付けましょう</p></li>
<li><p>ファイル名は,後からみて,中身が何であるかわかるよう<code>英数字</code>で名付けましょう</p>
<ul>
<li><code>a.py</code>や<code>file.py</code>,<code>課題.py</code>などはやめましょう</li>
</ul></li>
</ul></li>
</ul></li>
<li><p>Shell上でそのファイルが保存されている場所に移動する</p></li>
<li><p><code>python ファイル名</code> コマンドで実行する</p>
<ul>
<li>※ <code>python</code> は空白の後に続くプログラムを実行するためのコマンドです.</li>
</ul></li>
</ul>
</div>
<div class="note">
<p><strong>演習</strong></p>
<p>前回行った<code>Hello World</code>を参考に,<code>Let's start Python programming!!</code> と表示されるプログラムを作成しましょう. ファイル名などは適切に名付けてください.
まだ,今後沢山のスクリプトを書いていきますので,適切にフォルダなどを整理しましょう.</p>
</div>
<h3 data-number="1.11" id="エラーへの対応法とよくある間違い"><span class="header-section-number">1.11</span> エラーへの対応法とよくある間違い</h3>
<p>これまで皆さんは1行のプログラムを記述して, REPL上で実行してきました. これから何行かに渡るプログラムを記述すると, うまくできない人が出てきます. ここでは,学生のつまずきやすいポイントとその対策について,事前に学習しておきましょう.</p>
<h4 data-number="1.11.1" id="エラーへの対応方法"><span class="header-section-number">1.11.1</span> エラーへの対応方法</h4>
<p>間違った手順,プログラムの記述方法でプログラムを実行すると,エラー文がTerminalに表示されます. どれだけプログラミングが得意な人でも, 完璧な作業はできません. 必ずエラーが発生します. そのような意味でも,プログラミングをするというのは,プログラムを書いて発生したエラーに対応するということでもあります.</p>
<p>エラーへの対応は, プログラミングにある程度習熟した人でも,Webなどで調べて解決する場合が多いです.PCやプログラミングができるということは,すべての場合をすべて記憶して対応できるということではなく,<strong>問題が起きたら自分で解決できる</strong>ということを意味しています.</p>
<p>したがって, まず必要なのは問題が起きたら解決策を<strong>自分で調べること</strong>です.</p>
<p>解決方法を調べるためには,検索するためのワードとして,<strong>機能や名称を知っていること</strong>が重要です.
例として, Excelのフィルター機能の存在を知っていれば, <strong>Excel フィルター 使い方</strong>などで検索することができます.しかし,Excelも,フィルターも知らなければ,調べることすらできません.</p>
<p>すべての概念や機能を最初から完全に理解する必要はありませんが,概念の存在や名称を覚えるようにしましょう. そのためにも自分の<strong>メモやチートシートを作成,整理しておくこと</strong>が重要です.</p>
<p>プログラミングの学習において, 何かが間違っている場合には, Terminalにエラー文が表示されます. Pythonはエラー文が親切なので,エラー文を読めば大抵のことは解決できるようになっています.</p>
<p>しかし,エラーが起きても<strong>エラー文を一切読まない人</strong>が一定の割合で存在します. そのような人に理由を尋ねると最も多い理由は<strong>英語で書かれていること</strong>,2番目に<strong>どこを見ればいいのか分からないこと</strong>を挙げます.</p>
<p>それほど難しい英語は使われていませんが,まず英語で書かれていても読んでみましょう. 英語が理解できなければ,機械翻訳にかけましょう.</p>
<p>pythonのエラー文は,基本的にエラー文の<strong>一番最初にスクリプトのエラーが発生している場所</strong>が書かれています.また,<strong>一番最後にどのようなエラーが起きているのか</strong>が書かれています. 複雑なプログラムになると,エラー全体を理解する必要が出てきますが,この講義で扱う程度の事例に関してはその2個所のみを読めばほとんどが解決します. ただし,検索結果は珠玉混合です, 正しい情報の取捨選択に関しては,情報入門の教科書などで復習しておきましょう.</p>
<figure>
<img src="../images/python-error-sample1.png" alt="エラー文の読み方" />
<figcaption aria-hidden="true">エラー文の読み方</figcaption>
</figure>
<p><img src="../images/translate-error.png" /></p>
<p>エラー文を読んでも意味が理解できない,あるいは対処方法が分からない場合には,エラー文の最後をそのまま検索しましょう. なお,Googleでは,<code>""</code>で囲うことで文章ごと検索(センテンス検索)できます. Pythonは日本語ユーザーも非常に多いため,<code>エラー文 Python</code>で検索すれば,大抵の問題は日本語で解決方法を読むことができます.</p>
<p>解決しない場合には,AND検索で情報を付加して,結果を絞りましょう. 検索条件に加えるべき情報の候補としては以下のようなものがあります.</p>
<div class="note">
<ul>
<li><p>OS (Windows, Mac)</p></li>
<li><p>Pythonのversion</p></li>
<li><p>利用しているライブラリ</p></li>
<li><p>やろうとしている作業</p></li>
</ul>
</div>
<p>例えば,これから行う<code>pandas</code>を利用した<code>ファイルの読み込み</code>において<code>No such file or directory</code>というエラーが出た場合には <code>pandas ファイル読み込み "No such file or directory" Windows</code>などで検索してみましょう.</p>
<p><strong>エラー文を読んで</strong>,<strong>Webで検索しても</strong>問題が解決しない場合には, 教員に聞いて下さい. 専門的な内容になるほど,日本語のページは少なくなります.また,新しい情報に関しては,日本語に翻訳されておらず公式のドキュメントなどを読む必要があります. それでも解決しない場合には, Pythonのコミュニティなどで質問をする必要があります. 最終的にはこれらを自分でできるようになる必要がありますが,最初は難しいと思います. 講義の教員は,それらを代替するためにいますので,教員に聞きましょう.</p>
<p>しかし,繰り返しになりますが,PCが使える,プログラミングができる,ということは自分で問題の解決策を調べて解決できるということです.したがって,まずは自分で調べて解決する癖をつけるようにしましょう.</p>
<h4 data-number="1.11.2" id="エラーを体験してみよう"><span class="header-section-number">1.11.2</span> エラーを体験してみよう</h4>
<p>皆さんのプログラムが上手く動かない理由の圧倒的No1が<strong>スペルミス,タイプミス</strong>です. プログラミングの作業は,プログラムもコマンドも英語で記述します. プログラムは,1文字でも間違っていると上手く動かないので,しっかりとタイピングしましょう. 特にこれから行う作業で非常に多いスペルミスは以下のようなものです.</p>
<div class="note">
<ul>
<li>学生のスペルミス例
<ul>
<li>Data → Date (なぜか3割くらいの学生が間違えます.)</li>
<li>industry → indusutry, industly, indstry</li>
<li>python → pyton, pyhon</li>
<li>answer → anser, answere, ansewer</li>
<li>salary → sarary, saraly, sarasly</li>
<li>python –version → python version, python –vertion</li>
</ul></li>
</ul>
</div>
<p>スペルミスに対応するには注意するしかありません. 単純に英語の単語を覚えていない or タイピングミスが原因なので注意しましょう.英単語の意味がや綴がわからない場合には検索しましょう.
基本的にプログラミングにおいて無意味な英単語は利用していないので,意味を考えましょう(意味がない単語の例としてhoge,hugaなどは良く使いますが).特に<code>Date (日付)</code>, <code>Data(データ)</code>などは頻出ですが, 単語の意味を考えればミスしづらいかと思います. また,エラー文を読めばどこが間違っているか教えてくれています.
エラー文にでてきた文字列’industry’や’Data’に該当する部分が間違っていないかチェックしましょう.</p>
<p>事例として,以下のプログラムの実行結果と,エラーについて見てみましょう. なお,プログラムの内容や詳細に関しては,このあとやるので理解できなくても問題ありません.</p>
<p>プログラムを実行するにあたって作業ディレクトリに以下のプログラム<code>error_sample.py</code>とプログラム内で読み込むデータ<code>data/error_sample.csv</code>が存在することを前提とします. ここでは,あくまで事例として紹介するので皆さんはデータとプログラムを用意する必要はありません.</p>
<div class="warn">
<p>やる必要はありませんが,同じ作業を試してみたい場合は,作業ディレクトリで以下のコマンドをコピーして実行しましょう</p>
<ul>
<li>Windowsの人</li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install pandas</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;name,salary\ntaro,100&quot;</span> <span class="op">&gt;</span> data/error_sample.csv</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;import pandas as pd\ndf = pd.read_csv('data/error_sample.csv') \nprint(df['salary'])&quot;</span> <span class="op">&gt;</span> error_sample.py</span></code></pre></div>
<ul>
<li>Macの人</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip3</span> install pandas</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;name,salary\ntaro,100&quot;</span> <span class="op">&gt;</span> data/error_sample.csv</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;import pandas as pd\ndf = pd.read_csv('data/error_sample.csv') \nprint(df['salary'])&quot;</span> <span class="op">&gt;</span> error_sample.py</span></code></pre></div>
<p>ファイルの構成が以下のようになっていれば問題ありません.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> ls</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="ex">error_sample.py</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> ls data</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="ex">salary_data.csv</span></span></code></pre></div>
<p>それぞれ,以下のようなファイルができているはずです(コメントは入っていません).</p>
<ul>
<li>error_sample.py</li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="co">#dataフォルダにある,error_sample.csvファイルを読み込み</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/error_sample.csv'</span>)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co">#読み込んだファイルのsalary列を表示</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'salary'</span>])</span></code></pre></div>
<ul>
<li>error_sample.csv</li>
</ul>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>name,salary</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>taro,<span class="dv">100</span></span></code></pre></div>
</div>
<p>このプログラムを実行してみると,<code>error_sample.csv</code>の<code>salary</code>列の値が表示されます.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> python error_sample.py</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="ex">0</span>    100</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Name:</span> salary, dtype: int64</span></code></pre></div>
<p>プログラムを以下のように修正して実行してみます.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="co"># error_sample.csvをarara_sample.csv に変更</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/arara_sample.csv'</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'salary'</span>])</span></code></pre></div>
<p>以下のようなエラーが表示されます.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> python3 error_sample.py</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Traceback</span> <span class="er">(</span><span class="ex">most</span> recent call last<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Users/akagi/Documents/Programs/Python/slds/error_sample.py&quot;</span>, line 2, in <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">df</span> = pd.read_csv<span class="er">(</span><span class="st">'data/arara_sample.csv'</span><span class="kw">)</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py&quot;</span>, line 912, in read_csv</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ex">_read</span><span class="er">(</span><span class="ex">filepath_or_buffer,</span> kwds<span class="kw">)</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py&quot;</span>, line 577, in _read</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">parser</span> = TextFileReader<span class="er">(</span><span class="ex">filepath_or_buffer,</span> <span class="pp">**</span>kwds<span class="kw">)</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py&quot;</span>, line 1407, in __init__</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="ex">self._engine</span> = self._make_engine<span class="er">(</span><span class="ex">f,</span> self.engine<span class="kw">)</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/io/parsers/readers.py&quot;</span>, line 1661, in _make_engine</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="ex">self.handles</span> = get_handle<span class="er">(</span></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/io/common.py&quot;</span>, line 859, in get_handle</span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>    <span class="ex">handle</span> = open<span class="er">(</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a><span class="ex">FileNotFoundError:</span> [Errno 2] No such file or directory: <span class="st">'data/arara_sample.csv'</span></span></code></pre></div>
<p>先ほど解説したように最初の部分と,最後の部分だけを見てみましょう.
最初の部分ではエラーの発生場所を説明しています. このエラーは
<code>line 2, in &lt;module&gt;</code>の<code>df = pd.read_csv('data/arara_sample.csv')</code>
部分で発生しています.先ほど変更を加えた2行目のファイル名の部分ですね.</p>
<p>最後の部分では,発生したエラーの中身について説明しています. エラーの詳細は</p>
<p><code>FileNotFoundError: [Errno 2] No such file or directory: 'data/arara_sample.csv'</code></p>
<p>であり,<code>data</code>フォルダに<code>arara_sample.csv</code>というファイルがないという意味です.</p>
<p>プログラムの<code>arara_sample.csv</code>の部分を修正して,今度は,最後の行をエラーが出るように変更しています.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="co">#dataフォルダにある,error_sample.csvファイルを読み込み</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'data/error_sample.csv'</span>)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="co">#salaryをsararyに変更</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df[<span class="st">'sarary'</span>])</span></code></pre></div>
<p>実行すると以下のようなエラーが発生します.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="ex">❯</span> python3 error_sample.py</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Traceback</span> <span class="er">(</span><span class="ex">most</span> recent call last<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/core/indexes/base.py&quot;</span>, line 3652, in get_loc</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ex">self._engine.get_loc</span><span class="er">(</span><span class="ex">casted_key</span><span class="kw">)</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;pandas/_libs/index.pyx&quot;</span>, line 147, in pandas._libs.index.IndexEngine.get_loc</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;pandas/_libs/index.pyx&quot;</span>, line 176, in pandas._libs.index.IndexEngine.get_loc</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;pandas/_libs/hashtable_class_helper.pxi&quot;</span>, line 7080, in pandas._libs.hashtable.PyObjectHashTable.get_item</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;pandas/_libs/hashtable_class_helper.pxi&quot;</span>, line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="ex">KeyError:</span> <span class="st">'sarary'</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="ex">The</span> above exception was the direct cause of the following exception:</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="ex">Traceback</span> <span class="er">(</span><span class="ex">most</span> recent call last<span class="kw">)</span><span class="bu">:</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Users/akagi/Documents/Programs/Python/slds/error_sample.py&quot;</span>, line 3, in <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>    <span class="ex">print</span><span class="er">(</span><span class="va">df</span><span class="op">[</span><span class="st">'sarary'</span><span class="op">]</span><span class="kw">)</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/core/frame.py&quot;</span>, line 3761, in __getitem__</span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>    <span class="ex">indexer</span> = self.columns.get_loc<span class="er">(</span><span class="ex">key</span><span class="kw">)</span></span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>  <span class="ex">File</span> <span class="st">&quot;/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/pandas/core/indexes/base.py&quot;</span>, line 3654, in get_loc</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>    <span class="ex">raise</span> KeyError<span class="er">(</span><span class="ex">key</span><span class="kw">)</span> <span class="ex">from</span> err</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a><span class="ex">KeyError:</span> <span class="st">'sarary'</span></span></code></pre></div>
<p>今度のエラー文を見てみると,先ほど変更を加えた</p>
<p><code>File "/Users/akagi/Documents/Programs/Python/slds/error_sample.py", line 3, in &lt;module&gt;</code></p>
<p>の <code>print(df['sarary'])</code>でエラーが発生しており,エラーの内容は,<code>sarary</code>という<code>Key</code>が存在しないという意味の<code>KeyError: 'sarary'</code>です. pandasのDataFrameにおけるKeyについてはまだ扱っていませんが,辞書型で発生するエラーと同様なので,辞書型を参考にして大まかな意味を掴みましょう.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> xs <span class="op">=</span> {<span class="st">&quot;name&quot;</span>:<span class="st">&quot;taro&quot;</span>,<span class="st">&quot;salary&quot;</span>:<span class="dv">100</span>}</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> xs[<span class="st">'salary'</span>]</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="dv">100</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> xs[<span class="st">'sarary'</span>]</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="pp">KeyError</span>: <span class="st">'sarary'</span></span></code></pre></div>
<p>上のコードでは,<code>sarary</code>という<code>xs</code>に存在しない<code>key</code>を呼び出したことで<code>KeyError</code>が発生しています.</p>
<div class="note">
<ul>
<li>演習</li>
</ul>
<p>以下のプログラムをコピーして保存・実行し,エラーを確認しましょう.
どのようなエラーが含まれているのか,エラー文を読んで修正し,説明してください.</p>
<ul>
<li>error_sample2.py</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Morningの&quot;Good&quot;部分を抽出したい.</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co">#わざとエラーを含むプログラム</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>greetings <span class="op">=</span> {<span class="st">&quot;Morning&quot;</span>:<span class="st">&quot;Good Morning&quot;</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;Noon&quot;</span>:<span class="st">&quot;Hello&quot;</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>            ,<span class="st">&quot;Night&quot;</span>:<span class="st">&quot;Good Night&quot;</span>}</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(greeting[<span class="st">&quot;Morming&quot;</span>][<span class="st">&quot;0&quot;</span>:<span class="st">&quot;4&quot;</span>]</span></code></pre></div>
</div>


<!-- 前後の章へのナビゲーション -->
<div class="chapter-navigation">
    <nav>
        
            <a class="nav-link prev" href="slds2.html">← Previous Chapter</a>
        
        
            <a class="nav-link next" href="slds4.html">Next Chapter →</a>
        
    </nav>
</div>

    <div style="clear: both"></div>

    <div id="footer">
        Site proudly generated by
        <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
    </div>
</div>


    <!-- GUID -->
    <div style="display: none">ce0f13b2-4a83-4c1c-b2b9-b6d18f4ee6d2</div>




    <!-- JavaScript TOC generator (only runs on lecture pages) -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      var tocContainer = document.getElementById('lecture-toc');
      if (!tocContainer) return;

      // メインコンテンツから h2, h3, h4 を抽出
      var content = document.querySelector('article') || document.getElementById('content') || document.body;
      var headings = content.querySelectorAll('h2, h3, h4');
      if (headings.length === 0) return;

      // 目次用のUL要素を作成
      var tocList = document.createElement('ul');

      // 章番号カウンタ (h2, h3, h4に対応して配列を用意)
      var chapterNumbers = [0, 0, 0];

      headings.forEach(function(heading) {
        if (heading.closest('li')) return;

        var level;
        switch (heading.tagName.toLowerCase()) {
          case 'h2': level = 0; break;
          case 'h3': level = 1; break;
          case 'h4': level = 2; break;
          default: return;
        }

        chapterNumbers[level]++;
        for (var i = level + 1; i < chapterNumbers.length; i++) {
          chapterNumbers[i] = 0;
        }


        var li = document.createElement('li');
        li.classList.add('toc-level-' + (level + 1));

        var anchor = document.createElement('a');
        anchor.href = '#' + heading.id;
        anchor.textContent =  heading.textContent;

        li.appendChild(anchor);
        tocList.appendChild(li);
      });

      tocContainer.appendChild(tocList);
    });
    </script>
     <script>
  document.addEventListener("DOMContentLoaded", function() {
    // すべての <pre><code> 要素を走査
    const codeBlocks = document.querySelectorAll('pre code');
    codeBlocks.forEach(function(codeBlock) {
      // 親<pre>要素を取得
      const pre = codeBlock.parentNode;

      // <pre> を相対配置にし、子要素を絶対配置できるようにする
      pre.style.position = 'relative';

      // コピーボタンを作成
      const copyButton = document.createElement('button');
      copyButton.textContent = 'Copy';
      // ボタンのデザインはCSSで指定するのが望ましいが、簡易的にスタイルを直接指定する例:
      copyButton.style.position = 'absolute';
      copyButton.style.top = '8px';
      copyButton.style.right = '8px';
      copyButton.style.backgroundColor = '#add8e6'; // 水色
      copyButton.style.color = '#fff';             // 白文字
      copyButton.style.border = 'none';
      copyButton.style.padding = '6px 10px';
      copyButton.style.borderRadius = '4px';
      copyButton.style.cursor = 'pointer';

      // クリックされたらクリップボードにコピー
      copyButton.addEventListener('click', function() {
        const codeText = codeBlock.innerText;
        navigator.clipboard.writeText(codeText).then(function() {
          copyButton.textContent = 'Copied!';
          setTimeout(function() {
            copyButton.textContent = 'Copy';
          }, 2000);
        }, function(err) {
          console.error('Failed to copy: ', err);
        });
      });

      // ボタンを <pre> の子要素として挿入
      pre.appendChild(copyButton);
    });
  });
  </script>
  <script>
    function toggleMenu() {
      var nav = document.getElementById('navigation');
      nav.classList.toggle('open');
    }
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var mathElements = document.querySelectorAll('.math');
      for (var i = 0; i < mathElements.length; i++) {
        var texText = mathElements[i].firstChild
        if (mathElements[i].tagName == "SPAN") {
            katex.render( texText.data
                        , mathElements[i]
                        , { displayMode: mathElements[i].classList.contains("display")
                          , throwOnError: true
                         }
                        );
          }
      }
    });
  </script>

  </body>
</html>